import{u as n,c as a,w as r,_ as c,o as p,a as s,d as e}from"./app-5cf5a87e.js";const i=s("div",{class:"prose m-auto"},[s("h2",{id:"domains-redirects",tabindex:"-1"},[e("Domains Redirects "),s("a",{class:"header-anchor",href:"#domains-redirects","aria-hidden":"true"},"#")]),s("p",null,[e("On "),s("a",{href:"https://netlify.com",target:"_blank",rel:"noopener"},"Netlify"),e(", you can setup multiple domains for a site. When you add a custom domain, the "),s("code",null,"xxx.netlify.app"),e(" is still accessible. Which would potentially cause some confusion to users. In that way, you can setup the redirection in your "),s("code",null,"netlify.toml"),e(" file, for example:")]),s("pre",null,[s("code",{class:"language-toml"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"[["),s("span",{style:{color:"#80A665"}},"redirects"),s("span",{style:{color:"#666666"}},"]]")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#BD976A"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},'"'),s("span",{style:{color:"#C98A7D"}},"https://vueuse.netlify.app/*"),s("span",{style:{color:"#C98A7DAA"}},'"')]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#BD976A"}},"to"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},'"'),s("span",{style:{color:"#C98A7D"}},"https://vueuse.org/:splat"),s("span",{style:{color:"#C98A7DAA"}},'"')]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#BD976A"}},"status"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4C9A91"}},"301")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#BD976A"}},"force"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"true")]),e(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"[["),s("span",{style:{color:"#59873A"}},"redirects"),s("span",{style:{color:"#999999"}},"]]")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#B07D48"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},'"'),s("span",{style:{color:"#B56959"}},"https://vueuse.netlify.app/*"),s("span",{style:{color:"#B56959AA"}},'"')]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#B07D48"}},"to"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},'"'),s("span",{style:{color:"#B56959"}},"https://vueuse.org/:splat"),s("span",{style:{color:"#B56959AA"}},'"')]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#B07D48"}},"status"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2F798A"}},"301")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#B07D48"}},"force"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"true")]),e(`
`),s("span",{class:"line"})])])])])]),s("ul",null,[s("li",null,[s("code",null,"*"),e(" and "),s("code",null,":splat"),e(" mean it will redirect all the sub routes as-is to the new domain.")]),s("li",null,[s("code",null,"force = true"),e(" specifying it will always redirect even if the request page exists.")])]),s("h2",{id:"site-names-redirects",tabindex:"-1"},[e("Site Names Redirects "),s("a",{class:"header-anchor",href:"#site-names-redirects","aria-hidden":"true"},"#")]),s("p",null,[s("em",null,"2021/02/20")]),s("p",null,[e("Unlike domain redirection, sometimes you would need to rename the Netlify subdomain name (a.k.a site name), for example "),s("code",null,"xxx.netlify.app"),e(" to "),s("code",null,"yyy.netlify.app"),e(". After you do the rename, people visiting "),s("code",null,"xxx.netlify.app"),e(" will receive a 404. And since you no longer have controls over "),s("code",null,"xxx.netlify.app"),e(", you can’t just setup a redirect in your new site.")]),s("p",null,[e("A solution here is to create a new site with your original name "),s("code",null,"xxx"),e(" and upload the redirection rules. In this case, we can have "),s("code",null,"netlify.toml"),e(" like this:")]),s("pre",null,[s("code",{class:"language-toml"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"[["),s("span",{style:{color:"#80A665"}},"redirects"),s("span",{style:{color:"#666666"}},"]]")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#BD976A"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},'"'),s("span",{style:{color:"#C98A7D"}},"*"),s("span",{style:{color:"#C98A7DAA"}},'"')]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#BD976A"}},"to"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},'"'),s("span",{style:{color:"#C98A7D"}},"https://yyy.netlify.app/:splat"),s("span",{style:{color:"#C98A7DAA"}},'"')]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#BD976A"}},"status"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4C9A91"}},"301")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#BD976A"}},"force"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"true")]),e(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"[["),s("span",{style:{color:"#59873A"}},"redirects"),s("span",{style:{color:"#999999"}},"]]")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#B07D48"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},'"'),s("span",{style:{color:"#B56959"}},"*"),s("span",{style:{color:"#B56959AA"}},'"')]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#B07D48"}},"to"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},'"'),s("span",{style:{color:"#B56959"}},"https://yyy.netlify.app/:splat"),s("span",{style:{color:"#B56959AA"}},'"')]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#B07D48"}},"status"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2F798A"}},"301")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#B07D48"}},"force"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"true")]),e(`
`),s("span",{class:"line"})])])])])]),s("p",null,[e("Note you don’t have to link a repo to that, Netlify offers a great feature that "),s("a",{href:"https://app.netlify.com/drop",target:"_blank",rel:"noopener"},"let you drag and drop for static files and serve as a site"),e(". So you can just save "),s("code",null,"netlify.toml"),e(" and upload it, rename the site to your original name. The redirection is done!")])],-1),D="Netlify Redirects",m="2021-02-20T16:00:00.000Z",h="en",B="5min",g="https://antfu.me/og/netlify-redirects.png",E=[{property:"og:title",content:"Netlify Redirects"},{property:"og:image",content:"https://antfu.me/og/netlify-redirects.png"},{name:"twitter:card",content:"summary_large_image"}],C={__name:"netlify-redirects",setup(y,{expose:o}){const l={title:"Netlify Redirects",date:"2021-02-20T16:00:00.000Z",lang:"en",duration:"5min",image:"https://antfu.me/og/netlify-redirects.png",meta:[{property:"og:title",content:"Netlify Redirects"},{property:"og:image",content:"https://antfu.me/og/netlify-redirects.png"},{name:"twitter:card",content:"summary_large_image"}]};return o({frontmatter:l}),n({title:"Netlify Redirects",meta:[{property:"og:title",content:"Netlify Redirects"},{property:"og:image",content:"https://antfu.me/og/netlify-redirects.png"},{name:"twitter:card",content:"summary_large_image"}]}),(d,u)=>{const t=c;return p(),a(t,{frontmatter:l},{default:r(()=>[i]),_:1})}}};export{m as date,C as default,B as duration,g as image,h as lang,E as meta,D as title};
