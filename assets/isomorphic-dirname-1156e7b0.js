import{u as t,c as a,w as r,_ as p,o as c,a as o,d as s}from"./app-b1fb3549.js";const y=o("div",{class:"prose m-auto"},[o("p",null,[s("In ESM, you might found your old friends "),o("code",null,"__dirname"),s(" and "),o("code",null,"__filename"),s(" are no longer available. When you search for "),o("a",{href:"https://stackoverflow.com/questions/46745014/alternative-for-dirname-in-node-when-using-the-experimental-modules-flag",target:"_blank",rel:"noopener"},"solutions"),s(", you will find that you will need to parse "),o("code",null,"import.meta.url"),s(" to get the equivalents. While most of the solutions only show you the way to get them in ESM only, If you like me, who write modules in TypeScript and transpile to both CJS and ESM at the same time using tools like "),o("a",{href:"https://tsup.egoist.sh/",target:"_blank",rel:"noopener"},[o("code",null,"tsup")]),s(". Here is the isomorphic solution:")]),o("pre",null,[o("code",{class:"language-js"},[o("div",{class:"shiki-container"},[o("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[o("code",{"v-pre":""},[o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"import"),o("span",{style:{color:"#DBD7CAEE"}}," "),o("span",{style:{color:"#666666"}},"{"),o("span",{style:{color:"#DBD7CAEE"}}," "),o("span",{style:{color:"#BD976A"}},"dirname"),o("span",{style:{color:"#DBD7CAEE"}}," "),o("span",{style:{color:"#666666"}},"}"),o("span",{style:{color:"#DBD7CAEE"}}," "),o("span",{style:{color:"#4D9375"}},"from"),o("span",{style:{color:"#DBD7CAEE"}}," "),o("span",{style:{color:"#C98A7DAA"}},"'"),o("span",{style:{color:"#C98A7D"}},"path"),o("span",{style:{color:"#C98A7DAA"}},"'")]),s(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"import"),o("span",{style:{color:"#DBD7CAEE"}}," "),o("span",{style:{color:"#666666"}},"{"),o("span",{style:{color:"#DBD7CAEE"}}," "),o("span",{style:{color:"#BD976A"}},"fileURLToPath"),o("span",{style:{color:"#DBD7CAEE"}}," "),o("span",{style:{color:"#666666"}},"}"),o("span",{style:{color:"#DBD7CAEE"}}," "),o("span",{style:{color:"#4D9375"}},"from"),o("span",{style:{color:"#DBD7CAEE"}}," "),o("span",{style:{color:"#C98A7DAA"}},"'"),o("span",{style:{color:"#C98A7D"}},"url"),o("span",{style:{color:"#C98A7DAA"}},"'")]),s(`
`),o("span",{class:"line"}),s(`
`),o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"const"),o("span",{style:{color:"#DBD7CAEE"}}," "),o("span",{style:{color:"#BD976A"}},"_dirname"),o("span",{style:{color:"#DBD7CAEE"}}," "),o("span",{style:{color:"#666666"}},"="),o("span",{style:{color:"#DBD7CAEE"}}," "),o("span",{style:{color:"#CB7676"}},"typeof"),o("span",{style:{color:"#DBD7CAEE"}}," "),o("span",{style:{color:"#BD976A"}},"__dirname"),o("span",{style:{color:"#DBD7CAEE"}}," "),o("span",{style:{color:"#CB7676"}},"!=="),o("span",{style:{color:"#DBD7CAEE"}}," "),o("span",{style:{color:"#C98A7DAA"}},"'"),o("span",{style:{color:"#C98A7D"}},"undefined"),o("span",{style:{color:"#C98A7DAA"}},"'")]),s(`
`),o("span",{class:"line"},[o("span",{style:{color:"#DBD7CAEE"}},"  "),o("span",{style:{color:"#CB7676"}},"?"),o("span",{style:{color:"#DBD7CAEE"}}," "),o("span",{style:{color:"#BD976A"}},"__dirname")]),s(`
`),o("span",{class:"line"},[o("span",{style:{color:"#DBD7CAEE"}},"  "),o("span",{style:{color:"#CB7676"}},":"),o("span",{style:{color:"#DBD7CAEE"}}," "),o("span",{style:{color:"#80A665"}},"dirname"),o("span",{style:{color:"#666666"}},"("),o("span",{style:{color:"#80A665"}},"fileURLToPath"),o("span",{style:{color:"#666666"}},"("),o("span",{style:{color:"#4D9375"}},"import"),o("span",{style:{color:"#666666"}},"."),o("span",{style:{color:"#B8A965"}},"meta"),o("span",{style:{color:"#666666"}},"."),o("span",{style:{color:"#BD976A"}},"url"),o("span",{style:{color:"#666666"}},"))")]),s(`
`),o("span",{class:"line"})])]),o("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[o("code",{"v-pre":""},[o("span",{class:"line"},[o("span",{style:{color:"#1E754F"}},"import"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#999999"}},"{"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#B07D48"}},"dirname"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#999999"}},"}"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#1E754F"}},"from"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#B56959AA"}},"'"),o("span",{style:{color:"#B56959"}},"path"),o("span",{style:{color:"#B56959AA"}},"'")]),s(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1E754F"}},"import"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#999999"}},"{"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#B07D48"}},"fileURLToPath"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#999999"}},"}"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#1E754F"}},"from"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#B56959AA"}},"'"),o("span",{style:{color:"#B56959"}},"url"),o("span",{style:{color:"#B56959AA"}},"'")]),s(`
`),o("span",{class:"line"}),s(`
`),o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"const"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#B07D48"}},"_dirname"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#999999"}},"="),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#AB5959"}},"typeof"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#B07D48"}},"__dirname"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#AB5959"}},"!=="),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#B56959AA"}},"'"),o("span",{style:{color:"#B56959"}},"undefined"),o("span",{style:{color:"#B56959AA"}},"'")]),s(`
`),o("span",{class:"line"},[o("span",{style:{color:"#393A34"}},"  "),o("span",{style:{color:"#AB5959"}},"?"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#B07D48"}},"__dirname")]),s(`
`),o("span",{class:"line"},[o("span",{style:{color:"#393A34"}},"  "),o("span",{style:{color:"#AB5959"}},":"),o("span",{style:{color:"#393A34"}}," "),o("span",{style:{color:"#59873A"}},"dirname"),o("span",{style:{color:"#999999"}},"("),o("span",{style:{color:"#59873A"}},"fileURLToPath"),o("span",{style:{color:"#999999"}},"("),o("span",{style:{color:"#1E754F"}},"import"),o("span",{style:{color:"#999999"}},"."),o("span",{style:{color:"#998418"}},"meta"),o("span",{style:{color:"#999999"}},"."),o("span",{style:{color:"#B07D48"}},"url"),o("span",{style:{color:"#999999"}},"))")]),s(`
`),o("span",{class:"line"})])])])])])],-1),h="Isomorphic `__dirname`",B="2021-08-30T16:00:00.000Z",u="en",_="1min",E="https://antfu.me/og/isomorphic-dirname.png",g=[{property:"og:title",content:"Isomorphic `__dirname`"},{property:"og:image",content:"https://antfu.me/og/isomorphic-dirname.png"},{name:"twitter:card",content:"summary_large_image"}],f={__name:"isomorphic-dirname",setup(i,{expose:e}){const l={title:"Isomorphic `__dirname`",date:"2021-08-30T16:00:00.000Z",lang:"en",duration:"1min",image:"https://antfu.me/og/isomorphic-dirname.png",meta:[{property:"og:title",content:"Isomorphic `__dirname`"},{property:"og:image",content:"https://antfu.me/og/isomorphic-dirname.png"},{name:"twitter:card",content:"summary_large_image"}]};return e({frontmatter:l}),t({title:"Isomorphic `__dirname`",meta:[{property:"og:title",content:"Isomorphic `__dirname`"},{property:"og:image",content:"https://antfu.me/og/isomorphic-dirname.png"},{name:"twitter:card",content:"summary_large_image"}]}),(A,d)=>{const n=p;return c(),a(n,{frontmatter:l},{default:r(()=>[y]),_:1})}}};export{B as date,f as default,_ as duration,E as image,u as lang,g as meta,h as title};
