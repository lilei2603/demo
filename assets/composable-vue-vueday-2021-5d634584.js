import{j as B,o as a,g as A,r as F,c as p,w as c,d as l,e as k,a as s,t as v,C as x,h as u,i as C,u as T,_ as I,b as o}from"./app-b1fb3549.js";import{_ as R}from"./logo-github-03df407e.js";import{_ as S}from"./Slidev-21ce541a.js";const V={},M={class:"bg-gray:10 px-2 py-0.5 mx1 rounded font-mono inline-block text-0.6em transform translate-y-[-1em] translate-x-[-0.3em]"};function j(e,n){return a(),A("span",M,[F(e.$slots,"default")])}const d=B(V,[["render",j]]),U={};function W(e,n){const t=d;return a(),p(t,{class:"text-orange-400"},{default:c(()=>[l(" Tips ")]),_:1})}const P=B(U,[["render",W]]),$={};function H(e,n){const t=d;return a(),p(t,{class:"text-pink-500"},{default:c(()=>[l(" Pattern ")]),_:1})}const L=B($,[["render",H]]),K={class:"px-2 -mx-2 mt-4 py-2 flex block items-center gap2"},z=s("img",{src:"https://vueuse.org/favicon.svg",class:"h-1.5rem !w-1.5rem !my-0 flex-none"},null,-1),O=s("span",{class:"opacity-75"},"Avaliable in VueUse: ",-1),q=["href"],X=k({__name:"VueUseFn",props:{name:null},setup(e){return(n,t)=>(a(),A("div",K,[z,O,s("a",{class:"ml-2 font-mono opacity-75 hover:opacity-100",href:`https://vueuse.org/${e.name}`},v(e.name),9,q)]))}}),Y={style:{"vertical-align":"sub"},class:"inline",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},N=s("path",{fill:"currentColor",d:"M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6ZM5.394 6.813L6.81 5.399l3.505 3.506L8.9 10.319zM2 15.005h5v2H2zm3.394 10.193L8.9 21.692l1.414 1.414l-3.505 3.506zM15 25.005h2v5h-2zm6.687-1.9l1.414-1.414l3.506 3.506l-1.414 1.414zm3.313-8.1h5v2h-5zm-3.313-6.101l3.506-3.506l1.414 1.414l-3.506 3.506zM15 2.005h2v5h-2z"},null,-1),G=[N];function Z(e,n){return a(),A("svg",Y,G)}const J={name:"carbon-sun",render:Z},Q={style:{"vertical-align":"sub"},class:"inline",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},ss=s("path",{fill:"currentColor",d:"M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3Z"},null,-1),ls=[ss];function os(e,n){return a(),A("svg",Q,ls)}const es={name:"carbon-moon",render:os},ns={class:"flex"},as={class:"mr-1 ml-2"},ts=k({__name:"DarkToggleButton",setup(e){const n=x(C);return(t,h)=>{const m=es,g=J;return a(),A("button",{class:"bg-[#42b883] rounded border-b-2 border-green-900 text-white text-sm px-2 pt-1.5 pb-1 inline-block !outline-none hover:bg-opacity-85",onClick:h[0]||(h[0]=(...f)=>u(n)&&u(n)(...f))},[s("div",ns,[u(C)?(a(),p(m,{key:0})):(a(),p(g,{key:1})),s("span",as,v(u(C)?"Dark":"Light"),1)])])}}}),cs={};function rs(e,n){const t=d;return a(),p(t,{class:"text-green-500"},{default:c(()=>[l(" Core ")]),_:1})}const ps=B(cs,[["render",rs]]),ys={class:"prose m-auto"},is=s("p",null,[s("div",{class:"table-of-contents"},[s("ul",null,[s("li",null,[s("a",{href:"#vueuse"},"VueUse ")]),s("li",null,[s("a",{href:"#composition-api"},"Composition API "),s("ul",null,[s("li",null,[s("a",{href:"#ref-vs-reactive"},"Ref vs Reactive ")]),s("li",null,[s("a",{href:"#ref-auto-unwrapping"},"Ref Auto Unwrapping ")]),s("li",null,[s("a",{href:"#unref-oppsite-of-ref"},"unref - Oppsite of Ref ")])])]),s("li",null,[s("a",{href:"#patterns-tips"},"Patterns & Tips ")]),s("li",null,[s("a",{href:"#what’s-composable-functions"},"What’s composable Functions "),s("ul",null,[s("li",null,[s("a",{href:"#think-as-connections"},'Think as "Connections" ')]),s("li",null,[s("a",{href:"#one-thing-at-a-time"},"One Thing at a Time ")]),s("li",null,[s("a",{href:"#passing-ref-as-arguments"},"Passing Ref as Arguments ")]),s("li",null,[s("a",{href:"#mayberef"},"MaybeRef ")]),s("li",null,[s("a",{href:"#make-it-flexible"},"Make it Flexible ")]),s("li",null,[s("a",{href:"#usetitle-case"},"useTitle Case ")]),s("li",null,[s("a",{href:"#reuse-refs"},"Reuse Refs ")]),s("li",null,[s("a",{href:"#ref-unref"},"ref / unref ")]),s("li",null,[s("a",{href:"#object-of-refs"},"Object of Refs ")]),s("li",null,[s("a",{href:"#async-to-sync"},'Async to "Sync" ')]),s("li",null,[s("a",{href:"#usefetch-case"},"useFetch Case ")]),s("li",null,[s("a",{href:"#side-effects-self-cleanup"},"Side-effects Self Cleanup ")]),s("li",null,[s("a",{href:"#effectscope-rfc-upcoming"},"effectScope RFC Upcoming ")]),s("li",null,[s("a",{href:"#typed-provide-inject"},"Typed Provide / Inject ")]),s("li",null,[s("a",{href:"#shared-state"},"Shared State ")]),s("li",null,[s("a",{href:"#shared-state-ssr-friendly"},"Shared State (SSR friendly) ")]),s("li",null,[s("a",{href:"#usevmodel"},"useVModel ")])])]),s("li",null,[s("a",{href:"#vue-2-3"},"Vue 2 & 3 "),s("ul",null,[s("li",null,[s("a",{href:"#vue-composition-api-lib"},"@vue/composition-api Lib ")]),s("li",null,[s("a",{href:"#vue-2-7-upcoming"},"Vue 2.7 Upcoming ")]),s("li",null,[s("a",{href:"#vue-demi-lib"},"Vue Demi Lib ")])])]),s("li",null,[s("a",{href:"#thank-you"},"Thank you! ")])])])],-1),As=s("p",null,[l("This is the transcript of my talk "),s("strong",null,"Composable Vue"),l(" at "),s("a",{href:"https://2021.vueday.it/",target:"_blank",rel:"noopener"},"VueDay 2021")],-1),Ds=s("p",null,[l("Slides: "),s("a",{href:"https://antfu.me/talks/2021-04-29",target:"_blank",rel:"noopener"},"PDF"),l(" | "),s("a",{href:"https://talks.antfu.me/2021/composable-vue",target:"_blank",rel:"noopener"},"SPA")],-1),us=s("p",null,[l("Recording: "),s("a",{href:"https://youtu.be/IMJjP6edHd0",target:"_blank",rel:"noopener"},"YouTube")],-1),Bs=s("a",{href:"https://github.com/slidevjs/slidev",target:"_blank",rel:"noopener"},[s("strong",null,"Slidev")],-1),ds=s("p",null,"My sharing today is Composable Vue, some pattens and tips that might be able to help you writing better composable logic in Vue.",-1),hs=s("h2",{id:"vueuse",tabindex:"-1"},[s("a",{href:"https://vueuse.org/",target:"_blank",rel:"noopener"},"VueUse"),l(),s("a",{class:"header-anchor",href:"#vueuse","aria-hidden":"true"},"#")],-1),fs=s("p",null,"It all started with me made this project called VueUse, which is a collection of Vue composable utilities. Initially, I was making this to share some of the functions I wrote with Vue Composition API to be used across apps. Till now, it grows much bigger with the community, we are now an organization on GitHub with 9 team members, 8 add-ons packages for different integrations like motions and document head management. We also have more than 100 functions in the core package that work for both Vue 2 and 3. I have really appreciated all the contributors and the awesome community.",-1),Es=s("a",{href:"https://github.com/vueuse/vueuse",target:"_blank"},"vueuse/vueuse",-1),Cs=s("p",null,"In today’s talk, I will share with you the patterns and tips that I have learned during developing VueUse and using it to make apps in Composition API.",-1),ms=s("h2",{id:"composition-api",tabindex:"-1"},[l("Composition API "),s("a",{class:"header-anchor",href:"#composition-api","aria-hidden":"true"},"#")],-1),gs=s("p",null,"Let’s have a quick look at the Composition API itself. BTW, please note today’s talk will be a little bit advanced, which I would assume you already have a basic knowledge of what the Vue Composition API is. But don’t worry if you don’t, I believe you will still get some basic images of the methodology and you can also find the slides and transcript on my site after the talk.",-1),_s={id:"ref-vs-reactive",tabindex:"-1"},ks=s("a",{class:"header-anchor",href:"#ref-vs-reactive","aria-hidden":"true"},"#",-1),vs=s("p",null,"Well, let’s start with Ref and Reactive. I bet many of you have wondered the difference between them and which one should you choose.",-1),bs=s("p",null,[l('You can think refs as variables and reactives as objects. When you do the assignment, one is assigning "value" while the other one is assigning properties. While the usage of them can really dependents on what you gonna use them, but if we really need to pick one from them, I’d say go with '),s("code",null,"ref"),l(" whenever you can.")],-1),ws=s("p",null,[l("With "),s("code",null,"ref"),l(", you will need to use "),s("code",null,".value"),l(" to access and assigning values, but this also gives you more explicit awareness of when you are tracking and triggering the reactivity system.")],-1),Fs=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"ref"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"vue"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"let "),s("span",{style:{color:"#BD976A"}},"foo"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#4C9A91"}},"0")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"let "),s("span",{style:{color:"#BD976A"}},"bar"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"ref"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#4C9A91"}},"0"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BD976A"}},"foo"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4C9A91"}},"1")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BD976A"}},"bar"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4C9A91"}},"1"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#758575DD"}},"// ts-error")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"ref"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"vue"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"let "),s("span",{style:{color:"#B07D48"}},"foo"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#2F798A"}},"0")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"let "),s("span",{style:{color:"#B07D48"}},"bar"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"ref"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#2F798A"}},"0"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B07D48"}},"foo"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2F798A"}},"1")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B07D48"}},"bar"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2F798A"}},"1"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A0ADA0"}},"// ts-error")]),l(`
`),s("span",{class:"line"})])])])])],-1),xs=s("p",null,"As you can see the example here, I actually got an error by accidentally assigning ref with a value, and here I can change the code to fix it.",-1),Ts=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"reactive"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"vue"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"foo"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#B8A965"}},"prop"),s("span",{style:{color:"#666666"}},":"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#4C9A91"}},"0"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"bar"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"reactive"),s("span",{style:{color:"#666666"}},"({"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#B8A965"}},"prop"),s("span",{style:{color:"#666666"}},":"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#4C9A91"}},"0"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"})")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BD976A"}},"foo"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"prop"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4C9A91"}},"1")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BD976A"}},"bar"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"prop"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4C9A91"}},"1")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"reactive"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"vue"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"foo"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#998418"}},"prop"),s("span",{style:{color:"#999999"}},":"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#2F798A"}},"0"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"bar"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"reactive"),s("span",{style:{color:"#999999"}},"({"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#998418"}},"prop"),s("span",{style:{color:"#999999"}},":"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#2F798A"}},"0"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"})")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B07D48"}},"foo"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"prop"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2F798A"}},"1")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B07D48"}},"bar"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"prop"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2F798A"}},"1")]),l(`
`),s("span",{class:"line"})])])])])],-1),Is=s("p",null,[l("On the other hand, when using "),s("code",null,"reactive"),l(" you actually can’t tell the difference between a plain object and a reactive object without looking for the context, which could sometimes make the debugging a little bit harder.")],-1),Rs=s("p",null,[l("Also note in reactive objects, there are several caveats you need to take care about. Like you can’t do object destructure without "),s("code",null,"toRefs"),l(" otherwise they will lose the reactivity. And you will also need to wrap with a function when using with "),s("code",null,"watch"),l(" and so on, where "),s("code",null,"ref"),l(" does not have such limitations.")],-1),Ss={id:"ref-auto-unwrapping",tabindex:"-1"},Vs=s("a",{class:"header-anchor",href:"#ref-auto-unwrapping","aria-hidden":"true"},"#",-1),Ms=s("p",null,[l("When using with "),s("code",null,"refs"),l(", a big obstacle that people facing is the annoying "),s("code",null,".value"),l(". But actually, in many cases, you can omit it and make your code looks cleaner.")],-1),js=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"counter"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"ref"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#4C9A91"}},"0"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#80A665"}},"watch"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"counter"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"count"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"=>"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#BD976A"}},"console"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#80A665"}},"log"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"count"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#758575DD"}},"// same as `counter.value`")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"})")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"counter"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"ref"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#2F798A"}},"0"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#59873A"}},"watch"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"counter"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"count"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"=>"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#B07D48"}},"console"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#59873A"}},"log"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"count"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A0ADA0"}},"// same as `counter.value`")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"})")]),l(`
`),s("span",{class:"line"})])])])])],-1),Us=s("p",null,[l("The "),s("code",null,"watch"),l(" function accepts ref as the watch source directly, and it will return the unwrapped new value of the ref in the callback. So in this case, there is zero "),s("code",null,".value"),l(" needed.")],-1),Ws=s("pre",null,[s("code",{class:"language-html"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#4D9375"}},"template"),s("span",{style:{color:"#666666"}},">")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#4D9375"}},"button"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"@click"),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#C98A7DAA"}},'"'),s("span",{style:{color:"#C98A7D"}},"counter += 1"),s("span",{style:{color:"#C98A7DAA"}},'"'),s("span",{style:{color:"#666666"}},">")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    Counter is {\\{ counter }}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#666666"}},"</"),s("span",{style:{color:"#4D9375"}},"button"),s("span",{style:{color:"#666666"}},">")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"</"),s("span",{style:{color:"#4D9375"}},"template"),s("span",{style:{color:"#666666"}},">")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#1E754F"}},"template"),s("span",{style:{color:"#999999"}},">")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#1E754F"}},"button"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"@click"),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#B56959AA"}},'"'),s("span",{style:{color:"#B56959"}},"counter += 1"),s("span",{style:{color:"#B56959AA"}},'"'),s("span",{style:{color:"#999999"}},">")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    Counter is {\\{ counter }}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#999999"}},"</"),s("span",{style:{color:"#1E754F"}},"button"),s("span",{style:{color:"#999999"}},">")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"</"),s("span",{style:{color:"#1E754F"}},"template"),s("span",{style:{color:"#999999"}},">")]),l(`
`),s("span",{class:"line"})])])])])],-1),Ps=s("p",null,"The other one is the nature of Vue, in the template, all the refs are auto unwrapped, even assignments!",-1),$s=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"reactive"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"ref"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"vue"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"foo"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"ref"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"bar"),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"data"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"reactive"),s("span",{style:{color:"#666666"}},"({"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#BD976A"}},"foo"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#B8A965"}},"id"),s("span",{style:{color:"#666666"}},":"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#4C9A91"}},"10"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"})")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BD976A"}},"data"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"foo"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#758575DD"}},"// 'bar'")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"reactive"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"ref"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"vue"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"foo"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"ref"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"bar"),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"data"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"reactive"),s("span",{style:{color:"#999999"}},"({"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#B07D48"}},"foo"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#998418"}},"id"),s("span",{style:{color:"#999999"}},":"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#2F798A"}},"10"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"})")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B07D48"}},"data"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"foo"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A0ADA0"}},"// 'bar'")]),l(`
`),s("span",{class:"line"})])])])])],-1),Hs=s("p",null,"And whenever you feel like to better work with objects, you can pass the ref into the reactive object, and when you access the property, reactive will unwrap the ref automatically for you. Changes to the original ref will also reflect to the reactive object!",-1),Ls={id:"unref-oppsite-of-ref",tabindex:"-1"},Ks=s("code",null,"unref",-1),zs=s("a",{class:"header-anchor",href:"#unref-oppsite-of-ref","aria-hidden":"true"},"#",-1),Os=s("p",null,[s("code",null,"unref"),l(" is another Composition API I would like to introduce. As the name "),s("code",null,"unref"),l(" sounds, it’s kinda the opposite of ref. While the "),s("code",null,"ref()"),l(" function takes a value and turns it into a ref, "),s("code",null,"unref()"),l(" takes a ref and returns its value.")],-1),qs=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"function"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"unref"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"T"),s("span",{style:{color:"#666666"}},">("),s("span",{style:{color:"#BD976A"}},"r"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"Ref"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"T"),s("span",{style:{color:"#666666"}},"> | "),s("span",{style:{color:"#5DA9A7"}},"T"),s("span",{style:{color:"#666666"}},"):"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"T"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#4D9375"}},"return"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"isRef"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"r"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"?"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"r"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"value"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},":"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"r")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"function"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"unref"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"T"),s("span",{style:{color:"#999999"}},">("),s("span",{style:{color:"#B07D48"}},"r"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"Ref"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"T"),s("span",{style:{color:"#999999"}},"> | "),s("span",{style:{color:"#2E808F"}},"T"),s("span",{style:{color:"#999999"}},"):"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"T"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#1E754F"}},"return"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"isRef"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"r"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"?"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"r"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"value"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},":"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"r")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"})])])])])],-1),Xs=s("p",null,[l("The interesting part of it is that if you pass a plain value to "),s("code",null,"unref"),l(" it will return the value as-is to you, you can see the implementation is basically this.")],-1),Ys=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"ref"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"unref"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"vue"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"foo"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"ref"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"foo"),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#80A665"}},"unref"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"foo"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#758575DD"}},"// 'foo'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"bar"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"bar"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#80A665"}},"unref"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"bar"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#758575DD"}},"// 'bar'")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"ref"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"unref"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"vue"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"foo"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"ref"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"foo"),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#59873A"}},"unref"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"foo"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A0ADA0"}},"// 'foo'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"bar"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"bar"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#59873A"}},"unref"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"bar"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A0ADA0"}},"// 'bar'")]),l(`
`),s("span",{class:"line"})])])])])],-1),Ns=s("p",null,"This is not a big feature, but a good tip to unify your logic which I will show you soon",-1),Gs=s("h2",{id:"patterns-tips",tabindex:"-1"},[l("Patterns & Tips "),s("a",{class:"header-anchor",href:"#patterns-tips","aria-hidden":"true"},"#")],-1),Zs=s("p",null,"That’s the tips for using ref and reactive. Here I’d like to share with you some patterns of writing composable functions.",-1),Js=s("h2",{id:"what’s-composable-functions",tabindex:"-1"},[l("What’s composable Functions "),s("a",{class:"header-anchor",href:"#what’s-composable-functions","aria-hidden":"true"},"#")],-1),Qs=s("p",null,"So what’s composable functions?",-1),sl=s("p",null,"It’s actually kind of hard to give a proper definition, but I’d think it’s like sets for reusable logic to make your code better organized, and separate the concerns.",-1),ll=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"export"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"function"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"useDark"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"options"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"UseDarkOptions"),s("span",{style:{color:"#666666"}}," ="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{})"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"preferredDark"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"usePreferredDark"),s("span",{style:{color:"#666666"}},"()"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#758575DD"}},"// <--")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"store"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"useStorage"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"vueuse-dark"),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"auto"),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#758575DD"}},"// <--")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#4D9375"}},"return"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"computed"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"boolean"),s("span",{style:{color:"#666666"}},">({")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#80A665"}},"get"),s("span",{style:{color:"#666666"}},"()"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"      "),s("span",{style:{color:"#4D9375"}},"return"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"store"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"value"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"==="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"auto"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"        "),s("span",{style:{color:"#CB7676"}},"?"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"preferredDark"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"value")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"        "),s("span",{style:{color:"#CB7676"}},":"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"store"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"value"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"==="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"dark"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#666666"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#80A665"}},"set"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"v"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"      "),s("span",{style:{color:"#BD976A"}},"store"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"value"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"v"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"==="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"preferredDark"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"value")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"        "),s("span",{style:{color:"#CB7676"}},"?"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"auto"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"        "),s("span",{style:{color:"#CB7676"}},":"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"v"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"?"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"dark"),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},":"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"light"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#666666"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#666666"}},"})")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"export"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"function"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"useDark"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"options"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"UseDarkOptions"),s("span",{style:{color:"#999999"}}," ="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{})"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"preferredDark"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"usePreferredDark"),s("span",{style:{color:"#999999"}},"()"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#A0ADA0"}},"// <--")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"store"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"useStorage"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"vueuse-dark"),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"auto"),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#A0ADA0"}},"// <--")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#1E754F"}},"return"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"computed"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"boolean"),s("span",{style:{color:"#999999"}},">({")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#59873A"}},"get"),s("span",{style:{color:"#999999"}},"()"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"      "),s("span",{style:{color:"#1E754F"}},"return"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"store"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"value"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"==="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"auto"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"        "),s("span",{style:{color:"#AB5959"}},"?"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"preferredDark"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"value")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"        "),s("span",{style:{color:"#AB5959"}},":"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"store"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"value"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"==="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"dark"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#999999"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#59873A"}},"set"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"v"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"      "),s("span",{style:{color:"#B07D48"}},"store"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"value"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"v"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"==="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"preferredDark"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"value")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"        "),s("span",{style:{color:"#AB5959"}},"?"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"auto"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"        "),s("span",{style:{color:"#AB5959"}},":"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"v"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"?"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"dark"),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},":"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"light"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#999999"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#999999"}},"})")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"})])])])])],-1),ol=s("p",null,[l("Here is an example, the "),s("code",null,"useDark"),l(" function in VueUse is provided as a simple toggle to enable or disable the dark mode for apps. There are actually two variables involved, one is the system’s preference and one is users’ manual overrides. System preference can be got using media queries, while we would also need to use localStorage to read and store the user’s preference of different modes.")],-1),el=s("p",null,[l("As you can see in this code snippet, I have used two other composable functions "),s("a",{href:"https://vueuse.org/usePreferredDark",target:"_blank",rel:"noopener"},[s("code",null,"usePreferredDark")]),l(" and "),s("a",{href:"https://vueuse.org/useStorage",target:"_blank",rel:"noopener"},[s("code",null,"useStorage")]),l(", they will return two refs that reflecting on their states. Detailed things like monitoring the media query changes, the timing to read and write the storage are left to them. And all I need to do is logically composing their relationship into a single ref.")],-1),nl=s("p",null,"You can see the full code or directly use it in VueUse with the link below.",-1),al=s("h3",{id:"think-as-connections",tabindex:"-1"},[l('Think as "Connections" '),s("a",{class:"header-anchor",href:"#think-as-connections","aria-hidden":"true"},"#")],-1),tl=s("p",null,[l('The first methodology I want to share today is to think as "connections". Unlike hooks in React that will run on each updates, the '),s("code",null,"setup()"),l(" function in Vue only runs "),s("strong",null,"once"),l(" on component initialization, to construct the relations between your state and logic.")],-1),cl=s("p",null,[l("You can think the equations in mathematics, where the left hand side and right hand side are always equal. Here we have "),s("code",null,"z=x^2+y^2"),l(", while "),s("code",null,"x"),l(" and "),s("code",null,"y"),l(" are independent variables, and "),s("code",null,"z"),l(" is a controlled variables relying on "),s("code",null,"x"),l(" and "),s("code",null,"y"),l(". Whenever I changed any of them, "),s("code",null,"z"),l(" will be updated accordingly (DEMO). Which is also similar to the formula in spreadsheets.")],-1),rl=s("p",null,"So in composable functions, we could think arguments are input and the returns as the output. The output should be able to reflect on input changes automatically. A bit complicated? I will walk with you on that later with examples.",-1),pl=s("h3",{id:"one-thing-at-a-time",tabindex:"-1"},[l("One Thing at a Time "),s("a",{class:"header-anchor",href:"#one-thing-at-a-time","aria-hidden":"true"},"#")],-1),yl=s("p",null,"Another aspect is to do one thing at a time - which is the same as how you write any code. No need for me to spend too much time on this, but basically they are listed here.",-1),il=s("ul",null,[s("li",null,"Extract duplicated logics into composable functions"),s("li",null,"Have meaningful names"),s("li",null,[l("Consistent naming conversions - "),s("code",null,"useXX"),l(),s("code",null,"createXX"),l(),s("code",null,"onXX")]),s("li",null,"Keep function small and simple"),s("li",null,'"Do one thing, and do it well"')],-1),Al=s("p",null,[l("Note it’s also important to have a consistent naming conversion, like prefixed with "),s("code",null,"useXX"),l(" or "),s("code",null,"createXX"),l(" and so on to make those composable functions distinguishable from other functions.")],-1),Dl=s("h3",{id:"passing-ref-as-arguments",tabindex:"-1"},[l("Passing Ref as Arguments "),s("a",{class:"header-anchor",href:"#passing-ref-as-arguments","aria-hidden":"true"},"#")],-1),ul=s("p",null,"Alright, let’s start our first pattern today - Passing refs as arguments.",-1),Bl=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"function"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"add"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"a"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"number"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"b"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"number"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#4D9375"}},"return"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"a"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"+"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"b")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"function"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"add"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"a"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"number"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"b"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"number"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#1E754F"}},"return"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"a"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"+"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"b")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"})])])])])],-1),dl=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"a"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#4C9A91"}},"1")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"b"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#4C9A91"}},"2")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"c"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"add"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"a"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#BD976A"}},"b"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#758575DD"}},"// 3")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"a"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#2F798A"}},"1")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"b"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#2F798A"}},"2")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"c"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"add"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"a"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#B07D48"}},"b"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#A0ADA0"}},"// 3")]),l(`
`),s("span",{class:"line"})])])])])],-1),hl=s("p",null,[l("Here we have a plain add function that sums up the two arguments "),s("code",null,"a"),l(" and "),s("code",null,"b"),l(". You can also see the example on the right.")],-1),fl=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"function"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"add"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"a"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"Ref"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"number"),s("span",{style:{color:"#666666"}},">,"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"b"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"Ref"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"number"),s("span",{style:{color:"#666666"}},">)"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#4D9375"}},"return"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"computed"),s("span",{style:{color:"#666666"}},"(()"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"=>"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"a"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"value"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"+"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"b"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"value"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"function"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"add"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"a"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"Ref"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"number"),s("span",{style:{color:"#999999"}},">,"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"b"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"Ref"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"number"),s("span",{style:{color:"#999999"}},">)"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#1E754F"}},"return"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"computed"),s("span",{style:{color:"#999999"}},"(()"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"=>"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"a"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"value"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"+"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"b"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"value"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"})])])])])],-1),El=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"a"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"ref"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#4C9A91"}},"1"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"b"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"ref"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#4C9A91"}},"2"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"c"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"add"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"a"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#BD976A"}},"b"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BD976A"}},"c"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"value"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#758575DD"}},"// 3")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"a"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"ref"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#2F798A"}},"1"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"b"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"ref"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#2F798A"}},"2"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"c"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"add"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"a"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#B07D48"}},"b"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B07D48"}},"c"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"value"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A0ADA0"}},"// 3")]),l(`
`),s("span",{class:"line"})])])])])],-1),Cl=s("p",null,[l("And then we can make this function accepting refs, and return a computed ref with their sum. Then we can pass the refs to it as we normally would with plain values. The difference here is that the returned value is also a ref, but it will always be up-to-date with the ref "),s("code",null,"a"),l(" and "),s("code",null,"b"),l(".")],-1),ml=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"function"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"add"),s("span",{style:{color:"#666666"}},"(")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#BD976A"}},"a"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"Ref"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"number"),s("span",{style:{color:"#666666"}},"> | "),s("span",{style:{color:"#5DA9A7"}},"number"),s("span",{style:{color:"#666666"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#BD976A"}},"b"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"Ref"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"number"),s("span",{style:{color:"#666666"}},"> | "),s("span",{style:{color:"#5DA9A7"}},"number")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#4D9375"}},"return"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"computed"),s("span",{style:{color:"#666666"}},"(()"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"=>"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"unref"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"a"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"+"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"unref"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"b"),s("span",{style:{color:"#666666"}},"))")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"function"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"add"),s("span",{style:{color:"#999999"}},"(")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#B07D48"}},"a"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"Ref"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"number"),s("span",{style:{color:"#999999"}},"> | "),s("span",{style:{color:"#2E808F"}},"number"),s("span",{style:{color:"#999999"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#B07D48"}},"b"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"Ref"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"number"),s("span",{style:{color:"#999999"}},"> | "),s("span",{style:{color:"#2E808F"}},"number")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#1E754F"}},"return"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"computed"),s("span",{style:{color:"#999999"}},"(()"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"=>"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"unref"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"a"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"+"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"unref"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"b"),s("span",{style:{color:"#999999"}},"))")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"})])])])])],-1),gl=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"a"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"ref"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#4C9A91"}},"1"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"c"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"add"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"a"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#4C9A91"}},"5"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BD976A"}},"c"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"value"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#758575DD"}},"// 6")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"a"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"ref"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#2F798A"}},"1"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"c"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"add"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"a"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#2F798A"}},"5"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B07D48"}},"c"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"value"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A0ADA0"}},"// 6")]),l(`
`),s("span",{class:"line"})])])])])],-1),_l=s("p",null,[l("And remember the "),s("code",null,"unref"),l(" function we mentioned before? We can actually make this function more flexible, by accepting both refs and plain values. And use "),s("code",null,"unref"),l(" to get their values. We can also make the addition possible between a ref and a value.")],-1),kl=s("h3",{id:"mayberef",tabindex:"-1"},[l("MaybeRef "),s("a",{class:"header-anchor",href:"#mayberef","aria-hidden":"true"},"#")],-1),vl=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"type"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"MaybeRef"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"T"),s("span",{style:{color:"#666666"}},">"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"Ref"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"T"),s("span",{style:{color:"#666666"}},">"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"|"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"T")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"type"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"MaybeRef"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"T"),s("span",{style:{color:"#999999"}},">"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"Ref"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"T"),s("span",{style:{color:"#999999"}},">"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"|"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"T")]),l(`
`),s("span",{class:"line"})])])])])],-1),bl=s("p",null,[l("Here is a simple TypeScript’s type helper called "),s("code",null,"MaybeRef"),l(" that we have used a lot in VueUse. It’s a union of generic "),s("code",null,"T"),l(" and "),s("code",null,"Ref<T>"),l(".")],-1),wl=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"export"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"function"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"useTimeAgo"),s("span",{style:{color:"#666666"}},"(")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#BD976A"}},"time"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"Date"),s("span",{style:{color:"#666666"}}," | "),s("span",{style:{color:"#5DA9A7"}},"number"),s("span",{style:{color:"#666666"}}," | "),s("span",{style:{color:"#5DA9A7"}},"string"),s("span",{style:{color:"#666666"}}," | "),s("span",{style:{color:"#5DA9A7"}},"Ref"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"Date"),s("span",{style:{color:"#666666"}}," | "),s("span",{style:{color:"#5DA9A7"}},"number"),s("span",{style:{color:"#666666"}}," | "),s("span",{style:{color:"#5DA9A7"}},"string"),s("span",{style:{color:"#666666"}},">,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#4D9375"}},"return"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"computed"),s("span",{style:{color:"#666666"}},"(()"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"=>"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"someFormating"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#80A665"}},"unref"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"time"),s("span",{style:{color:"#666666"}},")))")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"export"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"function"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"useTimeAgo"),s("span",{style:{color:"#999999"}},"(")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#B07D48"}},"time"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"Date"),s("span",{style:{color:"#999999"}}," | "),s("span",{style:{color:"#2E808F"}},"number"),s("span",{style:{color:"#999999"}}," | "),s("span",{style:{color:"#2E808F"}},"string"),s("span",{style:{color:"#999999"}}," | "),s("span",{style:{color:"#2E808F"}},"Ref"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"Date"),s("span",{style:{color:"#999999"}}," | "),s("span",{style:{color:"#2E808F"}},"number"),s("span",{style:{color:"#999999"}}," | "),s("span",{style:{color:"#2E808F"}},"string"),s("span",{style:{color:"#999999"}},">,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#1E754F"}},"return"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"computed"),s("span",{style:{color:"#999999"}},"(()"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"=>"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"someFormating"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#59873A"}},"unref"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"time"),s("span",{style:{color:"#999999"}},")))")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"})])])])])],-1),Fl=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"type"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"Ref"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"vue"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"computed"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"unref"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"vue"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"type"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"MaybeRef"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"T"),s("span",{style:{color:"#666666"}},">"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"Ref"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"T"),s("span",{style:{color:"#666666"}},">"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"|"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"T")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"export"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"function"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"useTimeAgo"),s("span",{style:{color:"#666666"}},"(")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#BD976A"}},"time"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"MaybeRef"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"Date"),s("span",{style:{color:"#666666"}}," | "),s("span",{style:{color:"#5DA9A7"}},"number"),s("span",{style:{color:"#666666"}}," | "),s("span",{style:{color:"#5DA9A7"}},"string"),s("span",{style:{color:"#666666"}},">,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#4D9375"}},"return"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"computed"),s("span",{style:{color:"#666666"}},"(()"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"=>"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"someFormating"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#80A665"}},"unref"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"time"),s("span",{style:{color:"#666666"}},")))")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"type"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"Ref"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"vue"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"computed"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"unref"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"vue"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"type"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"MaybeRef"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"T"),s("span",{style:{color:"#999999"}},">"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"Ref"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"T"),s("span",{style:{color:"#999999"}},">"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"|"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"T")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"export"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"function"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"useTimeAgo"),s("span",{style:{color:"#999999"}},"(")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#B07D48"}},"time"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"MaybeRef"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"Date"),s("span",{style:{color:"#999999"}}," | "),s("span",{style:{color:"#2E808F"}},"number"),s("span",{style:{color:"#999999"}}," | "),s("span",{style:{color:"#2E808F"}},"string"),s("span",{style:{color:"#999999"}},">,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#1E754F"}},"return"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"computed"),s("span",{style:{color:"#999999"}},"(()"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"=>"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"someFormating"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#59873A"}},"unref"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"time"),s("span",{style:{color:"#999999"}},")))")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"})])])])])],-1),xl=s("p",null,[l("In this case, we have the function useTimeAgo that accepts a wide range of Date-like types as an argument. Normally if you want to accept refs, you would need to write them again as Ref versions. With this helper, you can make the type shorter and more readable (change code). A cool point it that this works great with "),s("code",null,"unref"),l(", it can infer the correct type for "),s("code",null,"MaybeRef"),l(".")],-1),Tl={id:"make-it-flexible",tabindex:"-1"},Il=s("a",{class:"header-anchor",href:"#make-it-flexible","aria-hidden":"true"},"#",-1),Rl=s("p",null,"Think your functions like LEGO, there should have many different ways of composing them for different needs.",-1),Sl=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"useTitle"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"@vueuse/core"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"title"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"useTitle"),s("span",{style:{color:"#666666"}},"()")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BD976A"}},"title"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"value"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"Hello World"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#758575DD"}},"// now the page's title changed")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"useTitle"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"@vueuse/core"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"title"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"useTitle"),s("span",{style:{color:"#999999"}},"()")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B07D48"}},"title"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"value"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"Hello World"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A0ADA0"}},"// now the page's title changed")]),l(`
`),s("span",{class:"line"})])])])])],-1),Vl=s("p",null,[l("Here we take "),s("code",null,"useTitle"),l(" function from VueUse as an example. Basically when you call it, you will get a special ref that binds to your page’s title. Whenever you change the ref’s value, the page’s title will also be updated. Similarly, when the page’s title changed externally, the change will also be reflect to the ref’s value.")],-1),Ml=s("p",null,"Looks good, right? But It creates a new ref whenever you call it. To make it more flexible, we can actually bind an existing ref, even computed!",-1),jl=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"computed"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"ref"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"vue"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"useTitle"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"@vueuse/core"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"name"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"ref"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"Hello"),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"title"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"computed"),s("span",{style:{color:"#666666"}},"(()"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"=>"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"  "),s("span",{style:{color:"#4D9375"}},"return"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#C98A7DAA"}},"`"),s("span",{style:{color:"#666666"}},"${"),s("span",{style:{color:"#C98A7D"}},"name"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#C98A7D"}},"value"),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#C98A7D"}}," - World"),s("span",{style:{color:"#C98A7DAA"}},"`")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"})")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#80A665"}},"useTitle"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"title"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#758575DD"}},"// Hello - World")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BD976A"}},"name"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"value"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"Hi"),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#758575DD"}},"// Hi - World")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"computed"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"ref"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"vue"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"useTitle"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"@vueuse/core"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"name"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"ref"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"Hello"),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"title"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"computed"),s("span",{style:{color:"#999999"}},"(()"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"=>"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"  "),s("span",{style:{color:"#1E754F"}},"return"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#B56959AA"}},"`"),s("span",{style:{color:"#999999"}},"${"),s("span",{style:{color:"#B56959"}},"name"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B56959"}},"value"),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#B56959"}}," - World"),s("span",{style:{color:"#B56959AA"}},"`")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"})")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#59873A"}},"useTitle"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"title"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A0ADA0"}},"// Hello - World")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B07D48"}},"name"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"value"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"Hi"),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A0ADA0"}},"// Hi - World")]),l(`
`),s("span",{class:"line"})])])])])],-1),Ul=s("p",null,"Here you can see, I constructed a computed with a ref, when I change the source ref, the computed get re-evaluated so as the page’s title.",-1),Wl={id:"usetitle-case",tabindex:"-1"},Pl=s("code",null,"useTitle",-1),$l=s("a",{class:"header-anchor",href:"#usetitle-case","aria-hidden":"true"},"#",-1),Hl=s("p",null,"You must be wondering how could this be implemented. Let’s take a look at a simplified version of it.",-1),Ll=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"ref"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"watch"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"vue"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"type"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"MaybeRef"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"@vueuse/core"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"export"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"function"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"useTitle"),s("span",{style:{color:"#666666"}},"(")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#BD976A"}},"newTitle"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"MaybeRef"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"string"),s("span",{style:{color:"#666666"}}," | "),s("span",{style:{color:"#CB7676"}},"null"),s("span",{style:{color:"#666666"}}," | "),s("span",{style:{color:"#CB7676"}},"undefined"),s("span",{style:{color:"#666666"}},">")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"title"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"ref"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"newTitle"),s("span",{style:{color:"#CB7676"}}," || "),s("span",{style:{color:"#BD976A"}},"document"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"title"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#758575DD"}},"// <-- 1")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#80A665"}},"watch"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"title"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"t"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"=>"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#758575DD"}},"// <-- 2")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#4D9375"}},"if"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"t"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"!="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"null"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"      "),s("span",{style:{color:"#BD976A"}},"document"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"title"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"t")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#666666"}},"},"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#B8A965"}},"immediate"),s("span",{style:{color:"#666666"}},":"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"true"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"})")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#4D9375"}},"return"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"title")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"ref"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"watch"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"vue"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"type"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"MaybeRef"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"@vueuse/core"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"export"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"function"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"useTitle"),s("span",{style:{color:"#999999"}},"(")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#B07D48"}},"newTitle"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"MaybeRef"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"string"),s("span",{style:{color:"#999999"}}," | "),s("span",{style:{color:"#AB5959"}},"null"),s("span",{style:{color:"#999999"}}," | "),s("span",{style:{color:"#AB5959"}},"undefined"),s("span",{style:{color:"#999999"}},">")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"title"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"ref"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"newTitle"),s("span",{style:{color:"#AB5959"}}," || "),s("span",{style:{color:"#B07D48"}},"document"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"title"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#A0ADA0"}},"// <-- 1")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#59873A"}},"watch"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"title"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"t"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"=>"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A0ADA0"}},"// <-- 2")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#1E754F"}},"if"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"t"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"!="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"null"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"      "),s("span",{style:{color:"#B07D48"}},"document"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"title"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"t")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#999999"}},"},"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#998418"}},"immediate"),s("span",{style:{color:"#999999"}},":"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"true"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"})")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#1E754F"}},"return"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"title")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"})])])])])],-1),Kl=s("p",null,"It’s actually only two statements! How?",-1),zl=s("p",null,"At the first line, unified the ref from the user, or create a new one. And on the second line, it watches the changes to the ref and sync up with page’s title.",-1),Ol=s("p",null,"Emm, maybe it’s a little bit hard to catch on what’s happened in the first line, let me explain a bit.",-1),ql={id:"reuse-refs",tabindex:"-1"},Xl=s("a",{class:"header-anchor",href:"#reuse-refs","aria-hidden":"true"},"#",-1),Yl=s("p",null,"Here, we utilized an interesting behavior of the ref function.",-1),Nl=s("p",null,[l("Similar to "),s("code",null,"unref"),l(" - "),s("code",null,"ref"),l(" also checks whether the passed value is ref or not. If you passed a ref to it, it will it as-is - since it’s already a ref, there is no need to make another.")],-1),Gl=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"foo"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"ref"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#4C9A91"}},"1"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#758575DD"}},"// Ref<1>")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"bar"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"ref"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"foo"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#758575DD"}},"// Ref<1>")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BD976A"}},"foo"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"==="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"bar"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#758575DD"}},"// true")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"foo"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"ref"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#2F798A"}},"1"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#A0ADA0"}},"// Ref<1>")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"bar"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"ref"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"foo"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#A0ADA0"}},"// Ref<1>")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B07D48"}},"foo"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"==="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"bar"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A0ADA0"}},"// true")]),l(`
`),s("span",{class:"line"})])])])])],-1),Zl=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"function"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"useFoo"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"foo"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"Ref"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"string"),s("span",{style:{color:"#666666"}},"> | "),s("span",{style:{color:"#5DA9A7"}},"string"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"  "),s("span",{style:{color:"#758575DD"}},"// no need!")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"bar"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"isRef"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"foo"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#CB7676"}}," ? "),s("span",{style:{color:"#BD976A"}},"foo"),s("span",{style:{color:"#CB7676"}}," : "),s("span",{style:{color:"#80A665"}},"ref"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"foo"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"  "),s("span",{style:{color:"#758575DD"}},"// they are the same")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"bar"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"ref"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"foo"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#758575DD"}},"/* ... */")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"function"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"useFoo"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"foo"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"Ref"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"string"),s("span",{style:{color:"#999999"}},"> | "),s("span",{style:{color:"#2E808F"}},"string"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"  "),s("span",{style:{color:"#A0ADA0"}},"// no need!")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"bar"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"isRef"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"foo"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#AB5959"}}," ? "),s("span",{style:{color:"#B07D48"}},"foo"),s("span",{style:{color:"#AB5959"}}," : "),s("span",{style:{color:"#59873A"}},"ref"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"foo"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"  "),s("span",{style:{color:"#A0ADA0"}},"// they are the same")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"bar"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"ref"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"foo"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#A0ADA0"}},"/* ... */")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"})])])])])],-1),Jl=s("p",null,[l("This could also be extremely useful in composable functions that take "),s("code",null,"MaybeRef"),l(" as argument types.")],-1),Ql=s("h3",{id:"ref-unref",tabindex:"-1"},[s("code",null,"ref"),l(" / "),s("code",null,"unref"),l(),s("a",{class:"header-anchor",href:"#ref-unref","aria-hidden":"true"},"#")],-1),so=s("p",null,"Let’s do a quick summary so far.",-1),lo=s("ul",null,[s("li",null,[s("code",null,"MaybeRef<T>"),l(" works well with "),s("code",null,"ref"),l(" and "),s("code",null,"unref"),l(".")]),s("li",null,[l("Use "),s("code",null,"ref()"),l(" when you want to normalized it as a Ref.")]),s("li",null,[l("Use "),s("code",null,"unref()"),l(" when you want to have the value.")])],-1),oo=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"type"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"MaybeRef"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"T"),s("span",{style:{color:"#666666"}},">"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"Ref"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"T"),s("span",{style:{color:"#666666"}},">"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"|"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"T")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"function"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"useBala"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"T"),s("span",{style:{color:"#666666"}},">("),s("span",{style:{color:"#BD976A"}},"arg"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"MaybeRef"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"T"),s("span",{style:{color:"#666666"}},">)"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"reference"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"ref"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"arg"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#758575DD"}},"// get the ref")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"value"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"unref"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"arg"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#758575DD"}},"// get the value")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"type"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"MaybeRef"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"T"),s("span",{style:{color:"#999999"}},">"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"Ref"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"T"),s("span",{style:{color:"#999999"}},">"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"|"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"T")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"function"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"useBala"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"T"),s("span",{style:{color:"#999999"}},">("),s("span",{style:{color:"#B07D48"}},"arg"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"MaybeRef"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"T"),s("span",{style:{color:"#999999"}},">)"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"reference"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"ref"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"arg"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#A0ADA0"}},"// get the ref")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"value"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"unref"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"arg"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#A0ADA0"}},"// get the value")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"})])])])])],-1),eo=s("p",null,[l("We can use "),s("code",null,"MaybeRef"),l(" in arguments to make the function flexible, and use "),s("code",null,"ref()"),l(" when you want to normalized it as a Ref and use "),s("code",null,"unref()"),l(" when you want to get the value. Both of them are universal and no conditions needed.")],-1),no={id:"object-of-refs",tabindex:"-1"},ao=s("a",{class:"header-anchor",href:"#object-of-refs","aria-hidden":"true"},"#",-1),to=s("p",null,"Another pattern today is to use objects of refs. When you need to return multiple data entries in a composable function, consider returns an object composed by refs.",-1),co=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"reactive"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"ref"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"vue"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"function"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"useMouse"),s("span",{style:{color:"#666666"}},"()"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#4D9375"}},"return"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#B8A965"}},"x"),s("span",{style:{color:"#666666"}},":"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"ref"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#4C9A91"}},"0"),s("span",{style:{color:"#666666"}},"),")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#B8A965"}},"y"),s("span",{style:{color:"#666666"}},":"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"ref"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#4C9A91"}},"0"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#BD976A"}},"x"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#BD976A"}},"y"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"useMouse"),s("span",{style:{color:"#666666"}},"()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"mouse"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"reactive"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#80A665"}},"useMouse"),s("span",{style:{color:"#666666"}},"())")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BD976A"}},"mouse"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"x"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"==="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"x"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"value"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#758575DD"}},"// true")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"reactive"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"ref"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"vue"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"function"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"useMouse"),s("span",{style:{color:"#999999"}},"()"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#1E754F"}},"return"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#998418"}},"x"),s("span",{style:{color:"#999999"}},":"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"ref"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#2F798A"}},"0"),s("span",{style:{color:"#999999"}},"),")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#998418"}},"y"),s("span",{style:{color:"#999999"}},":"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"ref"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#2F798A"}},"0"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#B07D48"}},"x"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#B07D48"}},"y"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"useMouse"),s("span",{style:{color:"#999999"}},"()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"mouse"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"reactive"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#59873A"}},"useMouse"),s("span",{style:{color:"#999999"}},"())")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B07D48"}},"mouse"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"x"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"==="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"x"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"value"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A0ADA0"}},"// true")]),l(`
`),s("span",{class:"line"})])])])])],-1),ro=s("p",null,"In this way, users can have the full features of ES6 object destructure. The restructure values are refs, so the reactivity still remains, and users can also rename them, or take only partial of what they want.",-1),po=s("p",null,"On this other hand, it’s also flexible enough when users want to use it as a single object, simply wrap it with the reactive function, the refs will get unwrapped as a property automatically.",-1),yo=s("p",null,[l("That said, users can get benefits from both "),s("code",null,"ref "),l("and "),s("code",null,"reactive"),l(" as need.")],-1),io={id:"async-to-sync",tabindex:"-1"},Ao=s("a",{class:"header-anchor",href:"#async-to-sync","aria-hidden":"true"},"#",-1),Do=s("p",null,'Since we are constructing "connections" using Composition API, we can actually make async functions to "sync" by building the connections first before it resolves.',-1),uo=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"data"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#4D9375"}},"await"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"fetch"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"https://api.github.com/"),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#666666"}},")."),s("span",{style:{color:"#80A665"}},"then"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"r"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"=>"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#BD976A"}},"r"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#80A665"}},"json"),s("span",{style:{color:"#666666"}},"())")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#758575DD"}},"// use data")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"data"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#1E754F"}},"await"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"fetch"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"https://api.github.com/"),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#999999"}},")."),s("span",{style:{color:"#59873A"}},"then"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"r"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"=>"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#B07D48"}},"r"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#59873A"}},"json"),s("span",{style:{color:"#999999"}},"())")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A0ADA0"}},"// use data")]),l(`
`),s("span",{class:"line"})])])])])],-1),Bo=s("p",null,[l("Let’s say we want to request some data use the "),s("code",null,"fetch"),l(" API. Normally we need to "),s("code",null,"await"),l(" the request been responded and data been parsed, before we can use the data. With Composition API, we can make the data as a ref of null, then be fulfilled later.")],-1),ho=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#BD976A"}},"data"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"useFetch"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"https://api.github.com/"),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#666666"}},")."),s("span",{style:{color:"#80A665"}},"json"),s("span",{style:{color:"#666666"}},"()")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"user_url"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"computed"),s("span",{style:{color:"#666666"}},"(()"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"=>"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#BD976A"}},"data"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"value"),s("span",{style:{color:"#666666"}},"?."),s("span",{style:{color:"#BD976A"}},"user_url"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#B07D48"}},"data"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"useFetch"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"https://api.github.com/"),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#999999"}},")."),s("span",{style:{color:"#59873A"}},"json"),s("span",{style:{color:"#999999"}},"()")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"user_url"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"computed"),s("span",{style:{color:"#999999"}},"(()"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"=>"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#B07D48"}},"data"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"value"),s("span",{style:{color:"#999999"}},"?."),s("span",{style:{color:"#B07D48"}},"user_url"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"})])])])])],-1),fo=s("p",null,"This can make your apps take the time to handle other stuff while waiting for the data to be fetched. The idea is similar to react’s stale-while-revalidate, but with much easier implementation.",-1),Eo={id:"usefetch-case",tabindex:"-1"},Co=s("code",null,"useFetch",-1),mo=s("a",{class:"header-anchor",href:"#usefetch-case","aria-hidden":"true"},"#",-1),go=s("p",null,[l("The implementation can be simplified down to this, all you have to do is to assign the value to "),s("code",null,"ref"),l(" when the promise got resolved.")],-1),_o=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"export"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"function"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"useFetch"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"R"),s("span",{style:{color:"#666666"}},">("),s("span",{style:{color:"#BD976A"}},"url"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"MaybeRef"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"string"),s("span",{style:{color:"#666666"}},">)"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"data"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"shallowRef"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"T"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"|"),s("span",{style:{color:"#CB7676"}}," undefined"),s("span",{style:{color:"#666666"}},">()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"error"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"shallowRef"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"Error"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"|"),s("span",{style:{color:"#CB7676"}}," undefined"),s("span",{style:{color:"#666666"}},">()")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#80A665"}},"fetch"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#80A665"}},"unref"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"url"),s("span",{style:{color:"#666666"}},"))")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#80A665"}},"then"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"r"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"=>"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"r"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#80A665"}},"json"),s("span",{style:{color:"#666666"}},"())")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#80A665"}},"then"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"r"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"=>"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"data"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"value"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"r"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#80A665"}},"catch"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"e"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"=>"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"error"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"value"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"e"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#4D9375"}},"return"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#BD976A"}},"data"),s("span",{style:{color:"#666666"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#BD976A"}},"error")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"export"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"function"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"useFetch"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"R"),s("span",{style:{color:"#999999"}},">("),s("span",{style:{color:"#B07D48"}},"url"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"MaybeRef"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"string"),s("span",{style:{color:"#999999"}},">)"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"data"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"shallowRef"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"T"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"|"),s("span",{style:{color:"#AB5959"}}," undefined"),s("span",{style:{color:"#999999"}},">()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"error"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"shallowRef"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"Error"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"|"),s("span",{style:{color:"#AB5959"}}," undefined"),s("span",{style:{color:"#999999"}},">()")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#59873A"}},"fetch"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#59873A"}},"unref"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"url"),s("span",{style:{color:"#999999"}},"))")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#59873A"}},"then"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"r"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"=>"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"r"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#59873A"}},"json"),s("span",{style:{color:"#999999"}},"())")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#59873A"}},"then"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"r"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"=>"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"data"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"value"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"r"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#59873A"}},"catch"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"e"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"=>"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"error"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"value"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"e"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#1E754F"}},"return"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#B07D48"}},"data"),s("span",{style:{color:"#999999"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#B07D48"}},"error")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"})])])])])],-1),ko=s("p",null,"In the real world, we might also need some flags to show the current state of the request, where you can find the full code in VueUse.",-1),vo={id:"side-effects-self-cleanup",tabindex:"-1"},bo=s("a",{class:"header-anchor",href:"#side-effects-self-cleanup","aria-hidden":"true"},"#",-1),wo=s("p",null,[s("code",null,"watch"),l(" and "),s("code",null,"computed"),l(" functions in Vue will stop themselves automatically along with the components unmounting. We’d recommend following the same pattern for your custom composable functions.")],-1),Fo=s("p",null,[l("By calling the "),s("code",null,"onUnmounted"),l(" hooks inside your composable functions, you can schedule the effect clean-up logic.")],-1),xo=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"onUnmounted"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"vue"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"export"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"function"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"useEventListener"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"target"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"EventTarget"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"name"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"string"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"fn"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"any"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#BD976A"}},"target"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#80A665"}},"addEventListener"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"name"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"fn"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#80A665"}},"onUnmounted"),s("span",{style:{color:"#666666"}},"(()"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"=>"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#BD976A"}},"target"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#80A665"}},"removeEventListener"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"name"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"fn"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#758575DD"}},"// <--")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#666666"}},"})")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"onUnmounted"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"vue"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"export"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"function"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"useEventListener"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"target"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"EventTarget"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"name"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"string"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"fn"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"any"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#B07D48"}},"target"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#59873A"}},"addEventListener"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"name"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"fn"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#59873A"}},"onUnmounted"),s("span",{style:{color:"#999999"}},"(()"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"=>"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#B07D48"}},"target"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#59873A"}},"removeEventListener"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"name"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"fn"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A0ADA0"}},"// <--")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#999999"}},"})")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"})])])])])],-1),To=s("p",null,[l("For example, it’s common to use "),s("code",null,"addEventListener"),l(" to register the handler to DOM events. When you finish the usage, you would also need to remember to unregister it using "),s("code",null,"removeEventListener"),l(". In this case, we can have a function "),s("code",null,"useEventListener"),l(" that unregister itself along with the component so you don’t need to worry about it anymore.")],-1),Io={id:"effectscope-rfc-upcoming",tabindex:"-1"},Ro=s("code",null,"effectScope",-1),So=s("a",{class:"header-anchor",href:"#effectscope-rfc-upcoming","aria-hidden":"true"},"#",-1),Vo=s("p",null,[l("While side-effects auto clean-up is nice, sometimes you might want to have better controls over when to do that. I drafted an RFC proposing a new API called "),s("code",null,"effectScope"),l(" to collect those effects into a single instance, that you can stop them together at the time you want. This is likely to be implemented and shipped with Vue 3.1. Check out for more details if it get you interested.")],-1),Mo=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#758575DD"}},"// effect, computed, watch, watchEffect created inside the scope will be collected")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"scope"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"effectScope"),s("span",{style:{color:"#666666"}},"(()"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"=>"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"  const "),s("span",{style:{color:"#BD976A"}},"doubled"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"computed"),s("span",{style:{color:"#666666"}},"(()"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"=>"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#BD976A"}},"counter"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"value"),s("span",{style:{color:"#CB7676"}}," * "),s("span",{style:{color:"#4C9A91"}},"2"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"  "),s("span",{style:{color:"#80A665"}},"watch"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"doubled"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"()"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"=>"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#BD976A"}},"console"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#80A665"}},"log"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"double"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"value"),s("span",{style:{color:"#666666"}},"))")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"  "),s("span",{style:{color:"#80A665"}},"watchEffect"),s("span",{style:{color:"#666666"}},"(()"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"=>"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#BD976A"}},"console"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#80A665"}},"log"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"Count: "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#BD976A"}},"double"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"value"),s("span",{style:{color:"#666666"}},"))")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"})")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#758575DD"}},"// dispose all effects in the scope")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#80A665"}},"stop"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"scope"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#A0ADA0"}},"// effect, computed, watch, watchEffect created inside the scope will be collected")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"scope"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"effectScope"),s("span",{style:{color:"#999999"}},"(()"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"=>"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"  const "),s("span",{style:{color:"#B07D48"}},"doubled"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"computed"),s("span",{style:{color:"#999999"}},"(()"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"=>"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#B07D48"}},"counter"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"value"),s("span",{style:{color:"#AB5959"}}," * "),s("span",{style:{color:"#2F798A"}},"2"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"  "),s("span",{style:{color:"#59873A"}},"watch"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"doubled"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"()"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"=>"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#B07D48"}},"console"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#59873A"}},"log"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"double"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"value"),s("span",{style:{color:"#999999"}},"))")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"  "),s("span",{style:{color:"#59873A"}},"watchEffect"),s("span",{style:{color:"#999999"}},"(()"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"=>"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#B07D48"}},"console"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#59873A"}},"log"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"Count: "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#B07D48"}},"double"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"value"),s("span",{style:{color:"#999999"}},"))")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"})")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A0ADA0"}},"// dispose all effects in the scope")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#59873A"}},"stop"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"scope"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"})])])])])],-1),jo=s("h3",{id:"typed-provide-inject",tabindex:"-1"},[l("Typed Provide / Inject "),s("a",{class:"header-anchor",href:"#typed-provide-inject","aria-hidden":"true"},"#")],-1),Uo=s("p",null,[l("We have a set of new APIs called "),s("code",null,"provide"),l(" and "),s("code",null,"inject"),l(". It’s basically for sharing some context for the component’s children to consume and reuse. They are two separate function, which means TypeScript can’t actually infer the types for each context automatically.")],-1),Wo=s("p",null,[l("But here we have a solution for that. Vue provided a type helper called "),s("code",null,"InjectionKey"),l(" where you can define a symbol that carries the type you want, and then it will hint "),s("code",null,"provide"),l(" and "),s("code",null,"inject"),l(" to have proper autocompletion and type checking.")],-1),Po=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#758575DD"}},"// context.ts")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"type"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"InjectionKey"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"vue"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"export"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"interface"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"UserInfo"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#BD976A"}},"id"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"number")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#BD976A"}},"name"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"string")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"export"),s("span",{style:{color:"#CB7676"}}," const "),s("span",{style:{color:"#BD976A"}},"injectKeyUser"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"InjectionKey"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"UserInfo"),s("span",{style:{color:"#666666"}},"> ="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"Symbol"),s("span",{style:{color:"#666666"}},"()")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#A0ADA0"}},"// context.ts")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"type"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"InjectionKey"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"vue"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"export"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"interface"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"UserInfo"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#B07D48"}},"id"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"number")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#B07D48"}},"name"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"string")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"export"),s("span",{style:{color:"#AB5959"}}," const "),s("span",{style:{color:"#B07D48"}},"injectKeyUser"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"InjectionKey"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"UserInfo"),s("span",{style:{color:"#999999"}},"> ="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"Symbol"),s("span",{style:{color:"#999999"}},"()")]),l(`
`),s("span",{class:"line"})])])])])],-1),$o=s("p",null,[l("For example, here I defined an interface "),s("code",null,"UserInfo"),l(" which contains two properties. And I exported a symbol with the "),s("code",null,"InjectionKey"),l(" type.")],-1),Ho=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#758575DD"}},"// parent.vue")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"provide"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"vue"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"injectKeyUser"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"./context"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"export"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"default"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#80A665"}},"setup"),s("span",{style:{color:"#666666"}},"()"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#80A665"}},"provide"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"injectKeyUser"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"      "),s("span",{style:{color:"#B8A965"}},"id"),s("span",{style:{color:"#666666"}},":"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"7"),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#758575DD"}},"// type error: should be number")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"      "),s("span",{style:{color:"#B8A965"}},"name"),s("span",{style:{color:"#666666"}},":"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"Anthony"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#666666"}},"})")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#A0ADA0"}},"// parent.vue")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"provide"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"vue"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"injectKeyUser"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"./context"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"export"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"default"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#59873A"}},"setup"),s("span",{style:{color:"#999999"}},"()"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#59873A"}},"provide"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"injectKeyUser"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"      "),s("span",{style:{color:"#998418"}},"id"),s("span",{style:{color:"#999999"}},":"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"7"),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A0ADA0"}},"// type error: should be number")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"      "),s("span",{style:{color:"#998418"}},"name"),s("span",{style:{color:"#999999"}},":"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"Anthony"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#999999"}},"})")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"})])])])])],-1),Lo=s("p",null,[l("In usage, I can use the "),s("code",null,"provide"),l(" function to provide the data with key. Can you see here I get a type error that the id should be a number. So I can catch up the error right away before it goes to production.")],-1),Ko=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#758575DD"}},"// child.vue")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"inject"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"vue"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"injectKeyUser"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"./context"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"export"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"default"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#80A665"}},"setup"),s("span",{style:{color:"#666666"}},"()"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"user"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"inject"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"injectKeyUser"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"    "),s("span",{style:{color:"#758575DD"}},"// UserInfo | undefined")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#4D9375"}},"if"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"user"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"      "),s("span",{style:{color:"#BD976A"}},"console"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#80A665"}},"log"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"user"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"name"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#758575DD"}},"// Anthony")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#A0ADA0"}},"// child.vue")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"inject"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"vue"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"injectKeyUser"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"./context"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"export"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"default"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#59873A"}},"setup"),s("span",{style:{color:"#999999"}},"()"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"user"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"inject"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"injectKeyUser"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"    "),s("span",{style:{color:"#A0ADA0"}},"// UserInfo | undefined")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#1E754F"}},"if"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"user"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"      "),s("span",{style:{color:"#B07D48"}},"console"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#59873A"}},"log"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"user"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"name"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A0ADA0"}},"// Anthony")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"})])])])])],-1),zo=s("p",null,[l("And in the child component, we can use the "),s("code",null,"inject"),l(" function with the key as well. You can see it correctly infers the type "),s("code",null,"UserInfo"),l(" and so as its property.")],-1),Oo={id:"shared-state",tabindex:"-1"},qo=s("a",{class:"header-anchor",href:"#shared-state","aria-hidden":"true"},"#",-1),Xo=s("p",null,"With the flexibility of Vue’s Composition API, sharing state is actually quite simple.",-1),Yo=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#758575DD"}},"// shared.ts")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"reactive"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"vue"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"export"),s("span",{style:{color:"#CB7676"}}," const "),s("span",{style:{color:"#BD976A"}},"state"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"reactive"),s("span",{style:{color:"#666666"}},"({")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"  "),s("span",{style:{color:"#B8A965"}},"foo"),s("span",{style:{color:"#666666"}},":"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#4C9A91"}},"1"),s("span",{style:{color:"#666666"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"  "),s("span",{style:{color:"#B8A965"}},"bar"),s("span",{style:{color:"#666666"}},":"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"Hello"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"})")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#A0ADA0"}},"// shared.ts")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"reactive"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"vue"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"export"),s("span",{style:{color:"#AB5959"}}," const "),s("span",{style:{color:"#B07D48"}},"state"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"reactive"),s("span",{style:{color:"#999999"}},"({")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"  "),s("span",{style:{color:"#998418"}},"foo"),s("span",{style:{color:"#999999"}},":"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#2F798A"}},"1"),s("span",{style:{color:"#999999"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"  "),s("span",{style:{color:"#998418"}},"bar"),s("span",{style:{color:"#999999"}},":"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"Hello"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"})")]),l(`
`),s("span",{class:"line"})])])])])],-1),No=s("p",null,"You can declare some ref or reactive state in a js module, and import them to your components. Since they are using the same instance, the state will be just in sync.",-1),Go=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#758575DD"}},"// A.vue")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"state"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"./shared.ts"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BD976A"}},"state"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"foo"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"+="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4C9A91"}},"1")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#A0ADA0"}},"// A.vue")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"state"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"./shared.ts"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B07D48"}},"state"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"foo"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"+="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2F798A"}},"1")]),l(`
`),s("span",{class:"line"})])])])])],-1),Zo=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#758575DD"}},"// B.vue")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"state"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"./shared.ts"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BD976A"}},"console"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#80A665"}},"log"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"state"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"foo"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#758575DD"}},"// 2")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#A0ADA0"}},"// B.vue")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"state"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"./shared.ts"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B07D48"}},"console"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#59873A"}},"log"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"state"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"foo"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A0ADA0"}},"// 2")]),l(`
`),s("span",{class:"line"})])])])])],-1),Jo=s("p",null,"But please note this is actually not SSR compatible. In SSR your server will create a new app on each request, where this approach will keep the state persistent across multiple rendering. And normally it’s not what we would expect.",-1),Qo={id:"shared-state-ssr-friendly",tabindex:"-1"},se=s("a",{class:"header-anchor",href:"#shared-state-ssr-friendly","aria-hidden":"true"},"#",-1),le=s("p",null,"Let’s see if we can make a solution for it to work with SSR.",-1),oe=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"export"),s("span",{style:{color:"#CB7676"}}," const "),s("span",{style:{color:"#BD976A"}},"myStateKey"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"InjectionKey"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"MyState"),s("span",{style:{color:"#666666"}},"> ="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"Symbol"),s("span",{style:{color:"#666666"}},"()")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"export"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"function"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"createMyState"),s("span",{style:{color:"#666666"}},"()"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"state"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"    "),s("span",{style:{color:"#758575DD"}},"/* ... */")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"  "),s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#4D9375"}},"return"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#80A665"}},"install"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"app"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"App"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"      "),s("span",{style:{color:"#BD976A"}},"app"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#80A665"}},"provide"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"myStateKey"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"state"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"export"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"function"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"useMyState"),s("span",{style:{color:"#666666"}},"():"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"MyState"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#4D9375"}},"return"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"inject"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"myStateKey"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#CB7676"}},"!")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"export"),s("span",{style:{color:"#AB5959"}}," const "),s("span",{style:{color:"#B07D48"}},"myStateKey"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"InjectionKey"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"MyState"),s("span",{style:{color:"#999999"}},"> ="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"Symbol"),s("span",{style:{color:"#999999"}},"()")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"export"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"function"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"createMyState"),s("span",{style:{color:"#999999"}},"()"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"state"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"    "),s("span",{style:{color:"#A0ADA0"}},"/* ... */")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"  "),s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#1E754F"}},"return"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#59873A"}},"install"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"app"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"App"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"      "),s("span",{style:{color:"#B07D48"}},"app"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#59873A"}},"provide"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"myStateKey"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"state"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"export"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"function"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"useMyState"),s("span",{style:{color:"#999999"}},"():"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"MyState"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#1E754F"}},"return"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"inject"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"myStateKey"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#AB5959"}},"!")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"})])])])])],-1),ee=s("p",null,[l("By using "),s("code",null,"provide"),l(" and "),s("code",null,"inject"),l(", to share the state one the App context, which means it will be created every time when the server doing the rendering. You can see here I have two function, "),s("code",null,"createMyState"),l(" and "),s("code",null,"useMyState"),l(". "),s("code",null,"createMyState"),l(" will returns a Vue plugin that provide the state to the App. While "),s("code",null,"useMyState"),l(" is just a wrapper of "),s("code",null,"inject"),l(" using the same key.")],-1),ne=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#758575DD"}},"// main.ts")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"App"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"createApp"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"App"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BD976A"}},"app"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#80A665"}},"use"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#80A665"}},"createMyState"),s("span",{style:{color:"#666666"}},"())")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#A0ADA0"}},"// main.ts")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"App"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"createApp"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"App"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B07D48"}},"app"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#59873A"}},"use"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#59873A"}},"createMyState"),s("span",{style:{color:"#999999"}},"())")]),l(`
`),s("span",{class:"line"})])])])])],-1),ae=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#758575DD"}},"// A.vue")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#758575DD"}},"// use everywhere in your app")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"state"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"useMyState"),s("span",{style:{color:"#666666"}},"()")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#A0ADA0"}},"// A.vue")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A0ADA0"}},"// use everywhere in your app")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"state"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"useMyState"),s("span",{style:{color:"#999999"}},"()")]),l(`
`),s("span",{class:"line"})])])])])],-1),te=s("p",null,[l("In usage, we can create the state in the main entry and pass it to "),s("code",null,"app.use"),l(". Then you can use the hook "),s("code",null,"useMyState"),l(" everywhere in your components.")],-1),ce=s("p",null,[l("If you have ever tried Vue Router v4, it actually uses a similar method to do that like "),s("code",null,"createRouter"),l(" and `useRouter.")],-1),re={id:"usevmodel",tabindex:"-1"},pe=s("a",{class:"header-anchor",href:"#usevmodel","aria-hidden":"true"},"#",-1),ye=s("p",null,[l("One last tip I’d like to share is a utility called "),s("code",null,"useVModel"),l(".")],-1),ie=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"export"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"function"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"useVModel"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"props"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"name"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"emit"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"getCurrentInstance"),s("span",{style:{color:"#666666"}},"()."),s("span",{style:{color:"#BD976A"}},"emit")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#4D9375"}},"return"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"computed"),s("span",{style:{color:"#666666"}},"({")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#80A665"}},"get"),s("span",{style:{color:"#666666"}},"()"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"      "),s("span",{style:{color:"#4D9375"}},"return"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"props"),s("span",{style:{color:"#666666"}},"["),s("span",{style:{color:"#BD976A"}},"name"),s("span",{style:{color:"#666666"}},"]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#666666"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#80A665"}},"set"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"v"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"      "),s("span",{style:{color:"#80A665"}},"emit"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#C98A7DAA"}},"`"),s("span",{style:{color:"#C98A7D"}},"update:"),s("span",{style:{color:"#666666"}},"${"),s("span",{style:{color:"#C98A7D"}},"name"),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#C98A7DAA"}},"`"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"v"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#666666"}},"})")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"export"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"function"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"useVModel"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"props"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"name"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"emit"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"getCurrentInstance"),s("span",{style:{color:"#999999"}},"()."),s("span",{style:{color:"#B07D48"}},"emit")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#1E754F"}},"return"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"computed"),s("span",{style:{color:"#999999"}},"({")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#59873A"}},"get"),s("span",{style:{color:"#999999"}},"()"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"      "),s("span",{style:{color:"#1E754F"}},"return"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"props"),s("span",{style:{color:"#999999"}},"["),s("span",{style:{color:"#B07D48"}},"name"),s("span",{style:{color:"#999999"}},"]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#999999"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#59873A"}},"set"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"v"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"      "),s("span",{style:{color:"#59873A"}},"emit"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B56959AA"}},"`"),s("span",{style:{color:"#B56959"}},"update:"),s("span",{style:{color:"#999999"}},"${"),s("span",{style:{color:"#B56959"}},"name"),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#B56959AA"}},"`"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"v"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#999999"}},"})")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"})])])])])],-1),Ae=s("p",null,[l("It’s just a simple wrapper to the component model to bind with "),s("code",null,"props"),l(" and "),s("code",null,"emit"),l(". This is actually a lifesaver to me.")],-1),De=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"export"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"default"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"defineComponent"),s("span",{style:{color:"#666666"}},"({")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#80A665"}},"setup"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"props"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"value"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#80A665"}},"useVModel"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"props"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"value"),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#4D9375"}},"return"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"value"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"})")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"export"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"default"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"defineComponent"),s("span",{style:{color:"#999999"}},"({")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#59873A"}},"setup"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"props"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"value"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#59873A"}},"useVModel"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"props"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"value"),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#1E754F"}},"return"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"value"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"})")]),l(`
`),s("span",{class:"line"})])])])])],-1),ue=s("p",null,"We can take a look at the code, you can see we used a writable computed. When accessing the value, we forward the value of props to it, and when writing, we emit out the update event automatically so you can use just like a normal ref.",-1),Be=s("pre",null,[s("code",{class:"language-html"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#4D9375"}},"template"),s("span",{style:{color:"#666666"}},">")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#4D9375"}},"input"),s("span",{style:{color:"#666666"}}," "),s("span",{style:{color:"#BD976A"}},"v-model"),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#C98A7DAA"}},'"'),s("span",{style:{color:"#C98A7D"}},"value"),s("span",{style:{color:"#C98A7DAA"}},'"'),s("span",{style:{color:"#666666"}}," />")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"</"),s("span",{style:{color:"#4D9375"}},"template"),s("span",{style:{color:"#666666"}},">")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#1E754F"}},"template"),s("span",{style:{color:"#999999"}},">")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#1E754F"}},"input"),s("span",{style:{color:"#999999"}}," "),s("span",{style:{color:"#B07D48"}},"v-model"),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#B56959AA"}},'"'),s("span",{style:{color:"#B56959"}},"value"),s("span",{style:{color:"#B56959AA"}},'"'),s("span",{style:{color:"#999999"}}," />")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"</"),s("span",{style:{color:"#1E754F"}},"template"),s("span",{style:{color:"#999999"}},">")]),l(`
`),s("span",{class:"line"})])])])])],-1),de=s("p",null,[l("Even more, we can actually bind into our children elements’s "),s("code",null,"v-model"),l(" very easily.")],-1),he=s("h2",{id:"vue-2-3",tabindex:"-1"},[l("Vue 2 & 3 "),s("a",{class:"header-anchor",href:"#vue-2-3","aria-hidden":"true"},"#")],-1),fe=s("p",null,"That’s all the tips and patterns I have for today.",-1),Ee=s("p",null,"As you might think those are for Vue 3 only, but actually they also applies for Vue 2!",-1),Ce={id:"vue-composition-api-lib",tabindex:"-1"},me=s("code",null,"@vue/composition-api",-1),ge=s("a",{class:"header-anchor",href:"#vue-composition-api-lib","aria-hidden":"true"},"#",-1),_e=s("p",null,"In case you didn’t know that, if you are still on Vue 2 but want to start using the Composition API, here we offered an official plugin that enables the Composition API for your Vue 2 app. Give it a try if you haven’t.",-1),ke=s("a",{href:"https://github.com/vuejs/composition-api",target:"_blank"},"vuejs/composition-api",-1),ve=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"Vue"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"vue"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"VueCompositionAPI"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"@vue/composition-api"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BD976A"}},"Vue"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#80A665"}},"use"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"VueCompositionAPI"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"Vue"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"vue"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"VueCompositionAPI"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"@vue/composition-api"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B07D48"}},"Vue"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#59873A"}},"use"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"VueCompositionAPI"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"})])])])])],-1),be=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"reactive"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"ref"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"@vue/composition-api"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"reactive"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"ref"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"@vue/composition-api"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"})])])])])],-1),we={id:"vue-2-7-upcoming",tabindex:"-1"},Fe=s("a",{class:"header-anchor",href:"#vue-2-7-upcoming","aria-hidden":"true"},"#",-1),xe=s("p",null,[l("We also announced "),s("a",{href:"https://github.com/vuejs/rfcs/blob/ie11/active-rfcs/0000-vue3-ie11-support.md#for-those-who-absolutely-need-ie11-support",target:"_blank",rel:"noopener"},"our plan for Vue 2.7"),l(" recently. Vue 2.7 will be the last minor version of Vue 2 with long time support for existing projects and those who still need IE 11 support. We will back-port Vue 3’s new features to Vue 2.7 and migrate the "),s("code",null,"@vue/compositon-api"),l(" plugin into it. Stay tuned on that.")],-1),Te=s("ul",null,[s("li",null,[l("Backport "),s("code",null,"@vue/composition-api"),l(" into Vue 2’s core.")]),s("li",null,[s("code",null,"<script setup>"),l(" syntax in Single-File Components.")]),s("li",null,"Migrate codebase to TypeScript."),s("li",null,"IE11 support."),s("li",null,"LTS.")],-1),Ie={id:"vue-demi-lib",tabindex:"-1"},Re=s("a",{class:"header-anchor",href:"#vue-demi-lib","aria-hidden":"true"},"#",-1),Se=s("p",null,"If you are a library author want your libraries to support Vue 2 and 3 with the same codebase. You can try Vue Demi, which eases out the difference between Vue 2 and 3 and auto-detects users’ environment.",-1),Ve=s("a",{href:"https://github.com/vueuse/vue-demi",target:"_blank",rel:"noopener"},"vueuse/vue-demi",-1),Me=s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#758575DD"}},"// same syntax for both Vue 2 and 3")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"import"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"defineComponent"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"reactive"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"ref"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"from"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"vue-demi"),s("span",{style:{color:"#C98A7DAA"}},"'")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#A0ADA0"}},"// same syntax for both Vue 2 and 3")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"import"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"defineComponent"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"reactive"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"ref"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"from"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"vue-demi"),s("span",{style:{color:"#B56959AA"}},"'")]),l(`
`),s("span",{class:"line"})])])])])],-1),je=s("h2",{id:"thank-you",tabindex:"-1"},[l("Thank you! "),s("a",{class:"header-anchor",href:"#thank-you","aria-hidden":"true"},"#")],-1),Ue=s("p",null,"That’s all for today.",-1),We=s("p",null,"Due to the time limit, it’s a shame that I can not share all I have learned with you. As the Vue composition API is still fairly new, I believe there are more patterns and better practices for us to found.",-1),Pe=s("p",null,[l("To find more information, do check out the "),s("a",{href:"https://github.com/vueuse",target:"_blank",rel:"noopener"},"VueUse org on GitHub"),l(" and "),s("a",{href:"https://vueuse.org/add-ons.html",target:"_blank",rel:"noopener"},"its awesome ecosystem"),l(", and follow us on Twitter "),s("a",{href:"https://twitter.com/vueuse",target:"_blank",rel:"noopener"},"@vueuse"),l(" to keep up-to-date with news and tips.")],-1),$e=s("p",null,"Thank you!",-1),He=s("p",{align:"center"},[s("a",{href:"https://github.com/sponsors/antfu#sponsors"},[s("img",{src:"https://cdn.jsdelivr.net/gh/antfu/static/sponsors.svg"})])],-1),Oe="Composable Vue - VueDay 2021",qe="Slides & transcript for my talk at VueDay 2021",Xe="2021-04-28T16:00:00.000Z",Ye="en",Ne="talk",Ge=!0,Ze="30min",Je="https://antfu.me/og/composable-vue-vueday-2021.png",Qe=[{property:"og:title",content:"Composable Vue - VueDay 2021"},{property:"og:description",content:"Slides & transcript for my talk at VueDay 2021"},{name:"description",content:"Slides & transcript for my talk at VueDay 2021"},{property:"og:image",content:"https://antfu.me/og/composable-vue-vueday-2021.png"},{name:"twitter:card",content:"summary_large_image"}],sn={__name:"composable-vue-vueday-2021",setup(e,{expose:n}){const t={title:"Composable Vue - VueDay 2021",description:"Slides & transcript for my talk at VueDay 2021",date:"2021-04-28T16:00:00.000Z",lang:"en",type:"talk",recording:!0,duration:"30min",image:"https://antfu.me/og/composable-vue-vueday-2021.png",meta:[{property:"og:title",content:"Composable Vue - VueDay 2021"},{property:"og:description",content:"Slides & transcript for my talk at VueDay 2021"},{name:"description",content:"Slides & transcript for my talk at VueDay 2021"},{property:"og:image",content:"https://antfu.me/og/composable-vue-vueday-2021.png"},{name:"twitter:card",content:"summary_large_image"}]};return n({frontmatter:t}),T({title:"Composable Vue - VueDay 2021",meta:[{property:"og:title",content:"Composable Vue - VueDay 2021"},{property:"og:description",content:"Slides & transcript for my talk at VueDay 2021"},{name:"description",content:"Slides & transcript for my talk at VueDay 2021"},{property:"og:image",content:"https://antfu.me/og/composable-vue-vueday-2021.png"},{name:"twitter:card",content:"summary_large_image"}]}),(m,g)=>{const f=S,E=R,D=ps,b=ts,y=X,i=L,r=d,_=P,w=I;return a(),p(w,{frontmatter:t},{default:c(()=>[s("div",ys,[is,s("blockquote",null,[As,Ds,us,s("p",null,[l("Made with "),o(f,{class:"inline"}),l(),Bs,l(" - a slides maker for developers that I am working on recently.")])]),ds,hs,fs,o(E,{class:"inline-block"}),l(),Es,Cs,ms,gs,s("h3",_s,[l("Ref vs Reactive "),o(D),l(),ks]),vs,bs,ws,Fs,xs,Ts,Is,Rs,s("h3",Ss,[l("Ref Auto Unwrapping "),o(D),l(),Vs]),Ms,js,Us,Ws,Ps,$s,Hs,s("h3",Ls,[Ks,l(" - Oppsite of Ref "),o(D),l(),zs]),Os,qs,Xs,Ys,Ns,Gs,Zs,Js,Qs,sl,ll,ol,o(b),el,nl,o(y,{name:"useDark"}),al,tl,cl,rl,pl,yl,il,Al,Dl,ul,Bl,dl,hl,fl,El,Cl,ml,gl,_l,kl,vl,bl,wl,Fl,xl,s("h3",Tl,[l("Make it Flexible "),o(i),l(),Il]),Rl,Sl,Vl,Ml,jl,Ul,s("h3",Wl,[Pl,l(),o(r,{class:"text-blue-400"},{default:c(()=>[l("Case")]),_:1}),l(),$l]),Hl,Ll,Kl,zl,Ol,o(y,{name:"useTitle"}),s("h3",ql,[l("Reuse Refs "),o(D),l(),Xl]),Yl,Nl,Gl,Zl,Jl,Ql,so,lo,oo,eo,s("h3",no,[l("Object of Refs "),o(i),l(),ao]),to,co,ro,po,yo,s("h3",io,[l('Async to "Sync" '),o(_),l(),Ao]),Do,uo,Bo,ho,fo,s("h3",Eo,[Co,l(),o(r,{class:"text-blue-400"},{default:c(()=>[l("Case")]),_:1}),l(),mo]),go,_o,ko,o(y,{name:"useFetch"}),s("h3",vo,[l("Side-effects Self Cleanup "),o(i),l(),bo]),wo,Fo,xo,To,o(y,{name:"useEventListener"}),s("h3",Io,[Ro,l(" RFC "),o(r,{class:"text-purple-400"},{default:c(()=>[l("Upcoming")]),_:1}),l(),So]),Vo,Mo,jo,Uo,Wo,Po,$o,Ho,Lo,Ko,zo,s("h3",Oo,[l("Shared State "),o(i),l(),qo]),Xo,Yo,No,Go,Zo,Jo,s("h3",Qo,[l("Shared State (SSR friendly) "),o(i),l(),se]),le,oe,ee,ne,ae,te,ce,s("h3",re,[l("useVModel "),o(_),l(),pe]),ye,ie,Ae,De,ue,Be,de,o(y,{name:"useVModel"}),he,fe,Ee,s("h3",Ce,[me,l(),o(r,{class:"text-teal-400"},{default:c(()=>[l("Lib")]),_:1}),l(),ge]),_e,o(E,{class:"inline-block"}),l(),ke,ve,be,s("h3",we,[l("Vue 2.7 "),o(r,{class:"text-purple-400"},{default:c(()=>[l("Upcoming")]),_:1}),l(),Fe]),xe,Te,s("h3",Ie,[l("Vue Demi "),o(r,{class:"text-teal-400"},{default:c(()=>[l("Lib")]),_:1}),l(),Re]),Se,o(E,{class:"inline-block"}),l(),Ve,Me,je,Ue,We,Pe,$e,He])]),_:1})}}};export{Xe as date,sn as default,qe as description,Ze as duration,Je as image,Ye as lang,Qe as meta,Ge as recording,Oe as title,Ne as type};
