import{u as a,c as t,w as c,_ as p,o as r,a as s,d as l}from"./app-5cf5a87e.js";const y=s("div",{class:"prose m-auto"},[s("p",null,[s("div",{class:"table-of-contents"},[s("ul",null,[s("li",null,[s("a",{href:"#type-for-this"},"Type for this "),s("ul",null,[s("li",null,[s("a",{href:"#thistype"},"ThisType ")])])])])])]),s("p",null,[l("As you may or may not know, I am working on preparing to release the v1.0 version for "),s("a",{href:"https://github.com/vuejs/composition-api",target:"_blank",rel:"noopener"},"@vue/composition-api"),l(" recently. One of the current problems is that the type inference does not play well "),s("a",{href:"https://github.com/vuejs/composition-api/issues/338",target:"_blank",rel:"noopener"},"#338"),l(". So I get a chance to have a deeper look at "),s("a",{href:"https://github.com/vuejs/composition-api",target:"_blank",rel:"noopener"},"vue-next"),l("â€™s type implementations. I will tell you what I learned and how magic works in Vue.")]),s("p",null,[l("Forget about the "),s("code",null,"setup()"),l(" function and "),s("code",null,"Composition API"),l(" for now, let talk about the options API in Vue 2 that everybody familiar with. In a classical example, we would have "),s("code",null,"data"),l(", "),s("code",null,"computed"),l(", "),s("code",null,"methods"),l(" and some other fields like this:")]),s("pre",null,[s("code",{class:"language-js"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"export"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#4D9375"}},"default"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#B8A965"}},"data"),s("span",{style:{color:"#666666"}},":"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#B8A965"}},"first_name"),s("span",{style:{color:"#666666"}},":"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},'"'),s("span",{style:{color:"#C98A7D"}},"Anthony"),s("span",{style:{color:"#C98A7DAA"}},'"'),s("span",{style:{color:"#666666"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#B8A965"}},"last_name"),s("span",{style:{color:"#666666"}},":"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},'"'),s("span",{style:{color:"#C98A7D"}},"Fu"),s("span",{style:{color:"#C98A7DAA"}},'"'),s("span",{style:{color:"#666666"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#666666"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#B8A965"}},"computed"),s("span",{style:{color:"#666666"}},":"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#80A665"}},"full_name"),s("span",{style:{color:"#666666"}},"()"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"      "),s("span",{style:{color:"#4D9375"}},"return"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C99076"}},"this"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"first_name"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"+"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},'"'),s("span",{style:{color:"#C98A7D"}}," "),s("span",{style:{color:"#C98A7DAA"}},'"'),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"+"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C99076"}},"this"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"last_name")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#666666"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#666666"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#B8A965"}},"methods"),s("span",{style:{color:"#666666"}},":"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#80A665"}},"hi"),s("span",{style:{color:"#666666"}},"()"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"      "),s("span",{style:{color:"#80A665"}},"alert"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#C99076"}},"this"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"full_name"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"export"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#1E754F"}},"default"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#998418"}},"data"),s("span",{style:{color:"#999999"}},":"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#998418"}},"first_name"),s("span",{style:{color:"#999999"}},":"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},'"'),s("span",{style:{color:"#B56959"}},"Anthony"),s("span",{style:{color:"#B56959AA"}},'"'),s("span",{style:{color:"#999999"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#998418"}},"last_name"),s("span",{style:{color:"#999999"}},":"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},'"'),s("span",{style:{color:"#B56959"}},"Fu"),s("span",{style:{color:"#B56959AA"}},'"'),s("span",{style:{color:"#999999"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#999999"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#998418"}},"computed"),s("span",{style:{color:"#999999"}},":"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#59873A"}},"full_name"),s("span",{style:{color:"#999999"}},"()"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"      "),s("span",{style:{color:"#1E754F"}},"return"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A65E2B"}},"this"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"first_name"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"+"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},'"'),s("span",{style:{color:"#B56959"}}," "),s("span",{style:{color:"#B56959AA"}},'"'),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"+"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A65E2B"}},"this"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"last_name")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#999999"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#999999"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#998418"}},"methods"),s("span",{style:{color:"#999999"}},":"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#59873A"}},"hi"),s("span",{style:{color:"#999999"}},"()"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"      "),s("span",{style:{color:"#59873A"}},"alert"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#A65E2B"}},"this"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"full_name"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"})])])])])]),s("p",null,[l("It works well in JavaScript and putting all the context into "),s("code",null,"this"),l(" is pretty straightforward and easy to understand. But when you switch to TypeScript for static type checking. "),s("code",null,"this"),l(" will not be the context you expected. How can we make the types work for Vue like the example above?")]),s("h2",{id:"type-for-this",tabindex:"-1"},[l("Type for "),s("code",null,"this"),l(),s("a",{class:"header-anchor",href:"#type-for-this","aria-hidden":"true"},"#")]),s("p",null,[l("To explicitly assign the type to "),s("code",null,"this"),l(", we can simply use the "),s("code",null,"this parameter"),l(":")]),s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"interface"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"Context"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#BD976A"}},"$injected"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"string")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"function"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"bar"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#C99076"}},"this"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"Context"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"a"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"number"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#C99076"}},"this"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"$injected"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#758575DD"}},"// ok")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"interface"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"Context"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#B07D48"}},"$injected"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"string")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"function"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"bar"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#A65E2B"}},"this"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"Context"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"a"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"number"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#A65E2B"}},"this"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"$injected"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A0ADA0"}},"// ok")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"})])])])])]),s("p",null,"The limitation of this approach is that we will lose the signature of the method when working with a dict of methods:"),s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"type"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"Methods"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"Record"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"string"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#C99076"}},"this"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"Context"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"..."),s("span",{style:{color:"#BD976A"}},"args"),s("span",{style:{color:"#666666"}},":"),s("span",{style:{color:"#5DA9A7"}},"any"),s("span",{style:{color:"#666666"}},"[])"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"=>"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"any"),s("span",{style:{color:"#666666"}},">")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"methods"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"Methods"),s("span",{style:{color:"#666666"}}," ="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"  "),s("span",{style:{color:"#80A665"}},"bar"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"a"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"number"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"    "),s("span",{style:{color:"#C99076"}},"this"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"$injected"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#758575DD"}},"// ok")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"  "),s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BD976A"}},"methods"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#80A665"}},"bar"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"foo"),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"bar"),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#758575DD"}},"// no error, the type of arguments becomes `any[]`")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"type"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"Methods"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"Record"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"string"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#A65E2B"}},"this"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"Context"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"..."),s("span",{style:{color:"#B07D48"}},"args"),s("span",{style:{color:"#999999"}},":"),s("span",{style:{color:"#2E808F"}},"any"),s("span",{style:{color:"#999999"}},"[])"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"=>"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"any"),s("span",{style:{color:"#999999"}},">")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"methods"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"Methods"),s("span",{style:{color:"#999999"}}," ="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"  "),s("span",{style:{color:"#59873A"}},"bar"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"a"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"number"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"    "),s("span",{style:{color:"#A65E2B"}},"this"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"$injected"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#A0ADA0"}},"// ok")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"  "),s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B07D48"}},"methods"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#59873A"}},"bar"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"foo"),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"bar"),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A0ADA0"}},"// no error, the type of arguments becomes `any[]`")]),l(`
`),s("span",{class:"line"})])])])])]),s("p",null,[l("We would not want to ask users to explicitly type "),s("code",null,"this"),l(" in every method in order to make the type checking works. So we will need another approach.")]),s("h3",{id:"thistype",tabindex:"-1"},[s("a",{href:"https://www.typescriptlang.org/docs/handbook/utility-types.html#thistypet",target:"_blank",rel:"noopener"},[s("code",null,"ThisType")]),l(),s("a",{class:"header-anchor",href:"#thistype","aria-hidden":"true"},"#")]),s("p",null,[l("After digging into Vueâ€™s code, I found an interesting TypeScirpt utility "),s("code",null,"ThisType"),l(". The official doc says:")]),s("blockquote",null,[s("p",null,[l("This utility does not return a transformed type. Instead, it serves as a marker for a contextual "),s("code",null,"this"),l(" type.")])]),s("p",null,[s("code",null,"ThisType"),l(" would affect all the nested functions. With it, we can have:")]),s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"type"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"Methods"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#80A665"}},"double"),s("span",{style:{color:"#666666"}},": ("),s("span",{style:{color:"#BD976A"}},"a"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"number"),s("span",{style:{color:"#666666"}},") => "),s("span",{style:{color:"#5DA9A7"}},"number")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#BD976A"}},"deep"),s("span",{style:{color:"#666666"}},": {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"    "),s("span",{style:{color:"#BD976A"}},"nested"),s("span",{style:{color:"#666666"}},": {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"      "),s("span",{style:{color:"#80A665"}},"half"),s("span",{style:{color:"#666666"}},": ("),s("span",{style:{color:"#BD976A"}},"a"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"number"),s("span",{style:{color:"#666666"}},") => "),s("span",{style:{color:"#5DA9A7"}},"number")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"    }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"  }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"const "),s("span",{style:{color:"#BD976A"}},"methods"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"Methods"),s("span",{style:{color:"#666666"}}," & "),s("span",{style:{color:"#5DA9A7"}},"ThisType"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"Methods"),s("span",{style:{color:"#666666"}}," & "),s("span",{style:{color:"#5DA9A7"}},"Context"),s("span",{style:{color:"#666666"}},"> ="),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"  "),s("span",{style:{color:"#80A665"}},"double"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"a"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"number"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"    "),s("span",{style:{color:"#C99076"}},"this"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"$injected"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#758575DD"}},"// ok")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"    "),s("span",{style:{color:"#4D9375"}},"return"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#BD976A"}},"a"),s("span",{style:{color:"#CB7676"}}," * "),s("span",{style:{color:"#4C9A91"}},"2")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"  "),s("span",{style:{color:"#666666"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"  "),s("span",{style:{color:"#B8A965"}},"deep"),s("span",{style:{color:"#666666"}},":"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"    "),s("span",{style:{color:"#B8A965"}},"nested"),s("span",{style:{color:"#666666"}},":"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"      "),s("span",{style:{color:"#80A665"}},"half"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"a"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"number"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"        "),s("span",{style:{color:"#C99076"}},"this"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"$injected"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#758575DD"}},"// ok")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"        "),s("span",{style:{color:"#4D9375"}},"return"),s("span",{style:{color:"#CB7676"}}," "),s("span",{style:{color:"#BD976A"}},"a"),s("span",{style:{color:"#CB7676"}}," / "),s("span",{style:{color:"#4C9A91"}},"2")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"      "),s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"    "),s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"  "),s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BD976A"}},"methods"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#80A665"}},"double"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#4C9A91"}},"2"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#758575DD"}},"// ok")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BD976A"}},"methods"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#80A665"}},"double"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#C98A7D"}},"foo"),s("span",{style:{color:"#C98A7DAA"}},"'"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#758575DD"}},"// error")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BD976A"}},"methods"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"deep"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"nested"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#80A665"}},"half"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#4C9A91"}},"4"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#758575DD"}},"// ok")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"type"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"Methods"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#59873A"}},"double"),s("span",{style:{color:"#999999"}},": ("),s("span",{style:{color:"#B07D48"}},"a"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"number"),s("span",{style:{color:"#999999"}},") => "),s("span",{style:{color:"#2E808F"}},"number")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#B07D48"}},"deep"),s("span",{style:{color:"#999999"}},": {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"    "),s("span",{style:{color:"#B07D48"}},"nested"),s("span",{style:{color:"#999999"}},": {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"      "),s("span",{style:{color:"#59873A"}},"half"),s("span",{style:{color:"#999999"}},": ("),s("span",{style:{color:"#B07D48"}},"a"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"number"),s("span",{style:{color:"#999999"}},") => "),s("span",{style:{color:"#2E808F"}},"number")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"    }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"  }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"const "),s("span",{style:{color:"#B07D48"}},"methods"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"Methods"),s("span",{style:{color:"#999999"}}," & "),s("span",{style:{color:"#2E808F"}},"ThisType"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"Methods"),s("span",{style:{color:"#999999"}}," & "),s("span",{style:{color:"#2E808F"}},"Context"),s("span",{style:{color:"#999999"}},"> ="),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"  "),s("span",{style:{color:"#59873A"}},"double"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"a"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"number"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"    "),s("span",{style:{color:"#A65E2B"}},"this"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"$injected"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#A0ADA0"}},"// ok")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"    "),s("span",{style:{color:"#1E754F"}},"return"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#B07D48"}},"a"),s("span",{style:{color:"#AB5959"}}," * "),s("span",{style:{color:"#2F798A"}},"2")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"  "),s("span",{style:{color:"#999999"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"  "),s("span",{style:{color:"#998418"}},"deep"),s("span",{style:{color:"#999999"}},":"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"    "),s("span",{style:{color:"#998418"}},"nested"),s("span",{style:{color:"#999999"}},":"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"      "),s("span",{style:{color:"#59873A"}},"half"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"a"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"number"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"        "),s("span",{style:{color:"#A65E2B"}},"this"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"$injected"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#A0ADA0"}},"// ok")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"        "),s("span",{style:{color:"#1E754F"}},"return"),s("span",{style:{color:"#AB5959"}}," "),s("span",{style:{color:"#B07D48"}},"a"),s("span",{style:{color:"#AB5959"}}," / "),s("span",{style:{color:"#2F798A"}},"2")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"      "),s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"    "),s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"  "),s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B07D48"}},"methods"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#59873A"}},"double"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#2F798A"}},"2"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A0ADA0"}},"// ok")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B07D48"}},"methods"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#59873A"}},"double"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#B56959"}},"foo"),s("span",{style:{color:"#B56959AA"}},"'"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A0ADA0"}},"// error")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B07D48"}},"methods"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"deep"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"nested"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#59873A"}},"half"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#2F798A"}},"4"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A0ADA0"}},"// ok")]),l(`
`),s("span",{class:"line"})])])])])]),s("p",null,"The typing works well, but it still requires users to define the type interface of Methods first. Can we make it infer itself automatically?"),s("p",null,"We can do that with function inference:"),s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"type"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"Options"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"T"),s("span",{style:{color:"#666666"}},">"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#BD976A"}},"methods"),s("span",{style:{color:"#CB7676"}},"?"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"T"),s("span",{style:{color:"#666666"}}," ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"&"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"ThisType"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"T"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"&"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"Context"),s("span",{style:{color:"#666666"}},">")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"function"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"define"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"T"),s("span",{style:{color:"#666666"}},">("),s("span",{style:{color:"#BD976A"}},"options"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"Options"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"T"),s("span",{style:{color:"#666666"}},">)"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#4D9375"}},"return"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#BD976A"}},"options")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#80A665"}},"define"),s("span",{style:{color:"#666666"}},"({")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#B8A965"}},"methods"),s("span",{style:{color:"#666666"}},":"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#80A665"}},"foo"),s("span",{style:{color:"#666666"}},"()"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"      "),s("span",{style:{color:"#C99076"}},"this"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"$injected"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#758575DD"}},"// ok")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#666666"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#666666"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"})")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"type"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"Options"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"T"),s("span",{style:{color:"#999999"}},">"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#B07D48"}},"methods"),s("span",{style:{color:"#AB5959"}},"?"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"T"),s("span",{style:{color:"#999999"}}," ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"&"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"ThisType"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"T"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"&"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"Context"),s("span",{style:{color:"#999999"}},">")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"function"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"define"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"T"),s("span",{style:{color:"#999999"}},">("),s("span",{style:{color:"#B07D48"}},"options"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"Options"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"T"),s("span",{style:{color:"#999999"}},">)"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#1E754F"}},"return"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B07D48"}},"options")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#59873A"}},"define"),s("span",{style:{color:"#999999"}},"({")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#998418"}},"methods"),s("span",{style:{color:"#999999"}},":"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#59873A"}},"foo"),s("span",{style:{color:"#999999"}},"()"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"      "),s("span",{style:{color:"#A65E2B"}},"this"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"$injected"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A0ADA0"}},"// ok")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#999999"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#999999"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"})")]),l(`
`),s("span",{class:"line"})])])])])]),s("p",null,[l("There is only one step left, to make context object dynamic inference from "),s("code",null,"data"),l(" and "),s("code",null,"computed"),l(".")]),s("p",null,"The full working demo would be:"),s("pre",null,[s("code",{class:"language-ts"},[s("div",{class:"shiki-container"},[s("pre",{class:"shiki shiki-dark",style:{"background-color":"#121212"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#758575DD"}},"/* ---- Type ---- */")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4D9375"}},"export"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"type"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"ExtractComputedReturns"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"T"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"extends"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"any"),s("span",{style:{color:"#666666"}},">"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#666666"}},"["),s("span",{style:{color:"#5DA9A7"}},"key"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"in"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"keyof"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"T"),s("span",{style:{color:"#666666"}},"]: "),s("span",{style:{color:"#5DA9A7"}},"T"),s("span",{style:{color:"#666666"}},"["),s("span",{style:{color:"#5DA9A7"}},"key"),s("span",{style:{color:"#666666"}},"] "),s("span",{style:{color:"#CB7676"}},"extends"),s("span",{style:{color:"#666666"}}," (..."),s("span",{style:{color:"#BD976A"}},"args"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"any"),s("span",{style:{color:"#666666"}},"[]) => "),s("span",{style:{color:"#CB7676"}},"infer"),s("span",{style:{color:"#666666"}}," "),s("span",{style:{color:"#5DA9A7"}},"TReturn")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"    "),s("span",{style:{color:"#CB7676"}},"?"),s("span",{style:{color:"#666666"}}," "),s("span",{style:{color:"#5DA9A7"}},"TReturn")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"    "),s("span",{style:{color:"#CB7676"}},":"),s("span",{style:{color:"#666666"}}," "),s("span",{style:{color:"#5DA9A7"}},"never")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"type"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"Options"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"D"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{},"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"C"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{},"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"M"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{}>"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"="),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#80A665"}},"data"),s("span",{style:{color:"#666666"}},": () => "),s("span",{style:{color:"#5DA9A7"}},"D")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#BD976A"}},"computed"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"C")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#BD976A"}},"methods"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"M")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#80A665"}},"mounted"),s("span",{style:{color:"#666666"}},": () => "),s("span",{style:{color:"#5DA9A7"}},"void")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"  "),s("span",{style:{color:"#758575DD"}},"// and other options")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"}"),s("span",{style:{color:"#DBD7CAEE"}}," ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"&"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"ThisType"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"D"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"&"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"M"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"&"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"ExtractComputedReturns"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"C"),s("span",{style:{color:"#666666"}},">>"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#758575DD"}},"// merge them together")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#CB7676"}},"function"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#80A665"}},"define"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"D"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"C"),s("span",{style:{color:"#666666"}},","),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#5DA9A7"}},"M"),s("span",{style:{color:"#666666"}},">("),s("span",{style:{color:"#BD976A"}},"options"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"Options"),s("span",{style:{color:"#666666"}},"<"),s("span",{style:{color:"#5DA9A7"}},"D"),s("span",{style:{color:"#666666"}},", "),s("span",{style:{color:"#5DA9A7"}},"C"),s("span",{style:{color:"#666666"}},", "),s("span",{style:{color:"#5DA9A7"}},"M"),s("span",{style:{color:"#666666"}},">)"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#758575DD"}},"/* ---- Usage ---- */")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#80A665"}},"define"),s("span",{style:{color:"#666666"}},"({")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#80A665"}},"data"),s("span",{style:{color:"#666666"}},"()"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#4D9375"}},"return"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"      "),s("span",{style:{color:"#B8A965"}},"first_name"),s("span",{style:{color:"#666666"}},":"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},'"'),s("span",{style:{color:"#C98A7D"}},"Anthony"),s("span",{style:{color:"#C98A7DAA"}},'"'),s("span",{style:{color:"#666666"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"      "),s("span",{style:{color:"#B8A965"}},"last_name"),s("span",{style:{color:"#666666"}},":"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},'"'),s("span",{style:{color:"#C98A7D"}},"Fu"),s("span",{style:{color:"#C98A7DAA"}},'"'),s("span",{style:{color:"#666666"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#666666"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#B8A965"}},"computed"),s("span",{style:{color:"#666666"}},":"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#80A665"}},"fullname"),s("span",{style:{color:"#666666"}},"()"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"      "),s("span",{style:{color:"#4D9375"}},"return"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C99076"}},"this"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"first_name"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"+"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C98A7DAA"}},'"'),s("span",{style:{color:"#C98A7D"}}," "),s("span",{style:{color:"#C98A7DAA"}},'"'),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#CB7676"}},"+"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#C99076"}},"this"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"last_name")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#666666"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#666666"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#B8A965"}},"methods"),s("span",{style:{color:"#666666"}},":"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#80A665"}},"notify"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"msg"),s("span",{style:{color:"#666666"}},": "),s("span",{style:{color:"#5DA9A7"}},"string"),s("span",{style:{color:"#666666"}},")"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"      "),s("span",{style:{color:"#80A665"}},"alert"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#BD976A"}},"msg"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#666666"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#666666"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#80A665"}},"mounted"),s("span",{style:{color:"#666666"}},"()"),s("span",{style:{color:"#DBD7CAEE"}}," "),s("span",{style:{color:"#666666"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"    "),s("span",{style:{color:"#C99076"}},"this"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#80A665"}},"notify"),s("span",{style:{color:"#666666"}},"("),s("span",{style:{color:"#C99076"}},"this"),s("span",{style:{color:"#666666"}},"."),s("span",{style:{color:"#BD976A"}},"fullname"),s("span",{style:{color:"#666666"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#DBD7CAEE"}},"  "),s("span",{style:{color:"#666666"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#666666"}},"})")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-light",style:{"background-color":"#ffffff"}},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{color:"#A0ADA0"}},"/* ---- Type ---- */")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F"}},"export"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"type"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"ExtractComputedReturns"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"T"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"extends"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"any"),s("span",{style:{color:"#999999"}},">"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#999999"}},"["),s("span",{style:{color:"#2E808F"}},"key"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"in"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"keyof"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"T"),s("span",{style:{color:"#999999"}},"]: "),s("span",{style:{color:"#2E808F"}},"T"),s("span",{style:{color:"#999999"}},"["),s("span",{style:{color:"#2E808F"}},"key"),s("span",{style:{color:"#999999"}},"] "),s("span",{style:{color:"#AB5959"}},"extends"),s("span",{style:{color:"#999999"}}," (..."),s("span",{style:{color:"#B07D48"}},"args"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"any"),s("span",{style:{color:"#999999"}},"[]) => "),s("span",{style:{color:"#AB5959"}},"infer"),s("span",{style:{color:"#999999"}}," "),s("span",{style:{color:"#2E808F"}},"TReturn")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"    "),s("span",{style:{color:"#AB5959"}},"?"),s("span",{style:{color:"#999999"}}," "),s("span",{style:{color:"#2E808F"}},"TReturn")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"    "),s("span",{style:{color:"#AB5959"}},":"),s("span",{style:{color:"#999999"}}," "),s("span",{style:{color:"#2E808F"}},"never")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"type"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"Options"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"D"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{},"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"C"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{},"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"M"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{}>"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"="),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#59873A"}},"data"),s("span",{style:{color:"#999999"}},": () => "),s("span",{style:{color:"#2E808F"}},"D")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#B07D48"}},"computed"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"C")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#B07D48"}},"methods"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"M")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#59873A"}},"mounted"),s("span",{style:{color:"#999999"}},": () => "),s("span",{style:{color:"#2E808F"}},"void")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"  "),s("span",{style:{color:"#A0ADA0"}},"// and other options")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"}"),s("span",{style:{color:"#393A34"}}," ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"&"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"ThisType"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"D"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"&"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"M"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"&"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"ExtractComputedReturns"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"C"),s("span",{style:{color:"#999999"}},">>"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A0ADA0"}},"// merge them together")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959"}},"function"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#59873A"}},"define"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"D"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"C"),s("span",{style:{color:"#999999"}},","),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#2E808F"}},"M"),s("span",{style:{color:"#999999"}},">("),s("span",{style:{color:"#B07D48"}},"options"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"Options"),s("span",{style:{color:"#999999"}},"<"),s("span",{style:{color:"#2E808F"}},"D"),s("span",{style:{color:"#999999"}},", "),s("span",{style:{color:"#2E808F"}},"C"),s("span",{style:{color:"#999999"}},", "),s("span",{style:{color:"#2E808F"}},"M"),s("span",{style:{color:"#999999"}},">)"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A0ADA0"}},"/* ---- Usage ---- */")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#59873A"}},"define"),s("span",{style:{color:"#999999"}},"({")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#59873A"}},"data"),s("span",{style:{color:"#999999"}},"()"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#1E754F"}},"return"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"      "),s("span",{style:{color:"#998418"}},"first_name"),s("span",{style:{color:"#999999"}},":"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},'"'),s("span",{style:{color:"#B56959"}},"Anthony"),s("span",{style:{color:"#B56959AA"}},'"'),s("span",{style:{color:"#999999"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"      "),s("span",{style:{color:"#998418"}},"last_name"),s("span",{style:{color:"#999999"}},":"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},'"'),s("span",{style:{color:"#B56959"}},"Fu"),s("span",{style:{color:"#B56959AA"}},'"'),s("span",{style:{color:"#999999"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#999999"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#998418"}},"computed"),s("span",{style:{color:"#999999"}},":"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#59873A"}},"fullname"),s("span",{style:{color:"#999999"}},"()"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"      "),s("span",{style:{color:"#1E754F"}},"return"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A65E2B"}},"this"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"first_name"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"+"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#B56959AA"}},'"'),s("span",{style:{color:"#B56959"}}," "),s("span",{style:{color:"#B56959AA"}},'"'),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#AB5959"}},"+"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#A65E2B"}},"this"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"last_name")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#999999"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#999999"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#998418"}},"methods"),s("span",{style:{color:"#999999"}},":"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#59873A"}},"notify"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"msg"),s("span",{style:{color:"#999999"}},": "),s("span",{style:{color:"#2E808F"}},"string"),s("span",{style:{color:"#999999"}},")"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"      "),s("span",{style:{color:"#59873A"}},"alert"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#B07D48"}},"msg"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#999999"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#999999"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#59873A"}},"mounted"),s("span",{style:{color:"#999999"}},"()"),s("span",{style:{color:"#393A34"}}," "),s("span",{style:{color:"#999999"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"    "),s("span",{style:{color:"#A65E2B"}},"this"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#59873A"}},"notify"),s("span",{style:{color:"#999999"}},"("),s("span",{style:{color:"#A65E2B"}},"this"),s("span",{style:{color:"#999999"}},"."),s("span",{style:{color:"#B07D48"}},"fullname"),s("span",{style:{color:"#999999"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#393A34"}},"  "),s("span",{style:{color:"#999999"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999"}},"})")]),l(`
`),s("span",{class:"line"})])])])])])],-1),C=!1,d="Type Inferencing in Vue",h="2020-06-28T00:00:00.000Z",u="",f="en",m="https://antfu.me/og/type-inferencing-in-vue.png",g=[{property:"og:title",content:"Type Inferencing in Vue"},{property:"og:image",content:"https://antfu.me/og/type-inferencing-in-vue.png"},{name:"twitter:card",content:"summary_large_image"}],k={__name:"type-inferencing-in-vue",setup(A,{expose:n}){const o={draft:!1,title:"Type Inferencing in Vue",date:"2020-06-28T00:00:00.000Z",hero_image:"",lang:"en",image:"https://antfu.me/og/type-inferencing-in-vue.png",meta:[{property:"og:title",content:"Type Inferencing in Vue"},{property:"og:image",content:"https://antfu.me/og/type-inferencing-in-vue.png"},{name:"twitter:card",content:"summary_large_image"}]};return n({frontmatter:o}),a({title:"Type Inferencing in Vue",meta:[{property:"og:title",content:"Type Inferencing in Vue"},{property:"og:image",content:"https://antfu.me/og/type-inferencing-in-vue.png"},{name:"twitter:card",content:"summary_large_image"}]}),(D,B)=>{const e=p;return r(),t(e,{frontmatter:o},{default:c(()=>[y]),_:1})}}};export{h as date,k as default,C as draft,u as hero_image,m as image,f as lang,g as meta,d as title};
